(this["webpackJsonpmeal-planner-app"]=this["webpackJsonpmeal-planner-app"]||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(25),i=n.n(c),l=n(88),s=n(177),o=n(189),d=n(190),j=n(191),u=n(184),h=n(135),b=n(183),O=n(192),x=n(178),p=n(193),g=n(87),m=n.n(g),v=n(61),f=n(180),S=n(181),y=n(182),k=n(179),C=n(185),D=n(173),w=n(187),I=n(188),E=n(85),T=n.n(E),J=n(86),L=n.n(J),P=n(74),N=n.n(P),U=n(73),z=n.n(U),M=n(2);var A=e=>{let{resetTrigger:t}=e;const n=e=>{const t=new Date(e),n=t.getDay(),a=t.getDate()-n+(0===n?-6:1);return new Date(t.setDate(a))},[r,c]=Object(a.useState)(n(new Date)),[i,l]=Object(a.useState)({});Object(a.useEffect)(()=>{const e=localStorage.getItem("mealPlanner");if(e){const t=JSON.parse(e),n=Object.fromEntries(Object.entries(t).filter(e=>{let[t]=e;return/^\d{4}-\d{2}-\d{2}$/.test(t)}));l(n),localStorage.setItem("mealPlanner",JSON.stringify(n))}},[]);const s=(e=>{const t=[];for(let n=0;n<7;n++){const a=new Date(e);a.setDate(e.getDate()+n),t.push(a)}return t})(r),[o,d]=Object(a.useState)([]),[j,b]=Object(a.useState)(!1),[O,x]=Object(a.useState)(!1);Object(a.useEffect)(()=>{const e=e=>{j&&(e.preventDefault(),e.returnValue="You have unsaved changes. Are you sure you want to leave?")};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[j]),Object(a.useEffect)(()=>{t>0&&c(n(new Date))},[t]);const p=o.reduce((e,t)=>{var n;return e+((null===(n=i[s[t].toISOString().split("T")[0]])||void 0===n?void 0:n.lunch)||0)},0),g=o.reduce((e,t)=>{var n;return e+((null===(n=i[s[t].toISOString().split("T")[0]])||void 0===n?void 0:n.dinner)||0)},0),m=p+g,E=(s.reduce((e,t)=>{var n;return e+((null===(n=i[t.toISOString().split("T")[0]])||void 0===n?void 0:n.lunch)||0)},0),s.reduce((e,t)=>{var n;return e+((null===(n=i[t.toISOString().split("T")[0]])||void 0===n?void 0:n.dinner)||0)},0),e=>{const t=new Date(r);t.setDate(t.getDate()+7*e),c(t)}),J=(e,t,n)=>{l(a=>{var r,c,i,l;return Object(v.a)(Object(v.a)({},a),{},{[e]:{lunch:"lunch"===t?Math.max(0,((null===(r=a[e])||void 0===r?void 0:r.lunch)||0)+n):(null===(c=a[e])||void 0===c?void 0:c.lunch)||0,dinner:"dinner"===t?Math.max(0,((null===(i=a[e])||void 0===i?void 0:i.dinner)||0)+n):(null===(l=a[e])||void 0===l?void 0:l.dinner)||0}})}),b(!0)};return Object(M.jsxs)(f.a,{sx:{p:2,backgroundColor:"background.default",minHeight:"100vh"},children:[Object(M.jsxs)(h.a,{variant:"h4",align:"center",gutterBottom:!0,children:[Object(M.jsx)(u.a,{onClick:()=>E(-1),children:Object(M.jsx)(T.a,{})}),"Week of ",(e=>{const t=new Date(e);return t.setDate(e.getDate()+6),"".concat(e.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(t.toLocaleDateString("en-US",{month:"short",day:"numeric"}))})(r),Object(M.jsx)(u.a,{onClick:()=>E(1),children:Object(M.jsx)(L.a,{})})]}),Object(M.jsx)(S.a,{container:!0,spacing:1,justifyContent:"center",children:s.map((e,t)=>{var n,a;const r=e.toISOString().split("T")[0],c=e.toLocaleDateString("en-US",{weekday:"short"}),l=e.toLocaleDateString("en-US",{month:"short",day:"numeric"});return Object(M.jsx)(S.a,{item:!0,xs:1.7,sm:6,md:1.7,children:Object(M.jsxs)(y.a,{elevation:3,sx:{p:1,textAlign:"center",backgroundColor:o.includes(t)?"primary.light":"background.paper",cursor:"pointer",border:o.includes(t)?"2px solid #2196f3":"none"},onClick:()=>{return e=t,void d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]);var e},children:[Object(M.jsx)(h.a,{variant:"h6",children:c}),Object(M.jsxs)(f.a,{sx:{mt:1},children:[Object(M.jsxs)(f.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[Object(M.jsx)(u.a,{size:"small",onClick:e=>{e.stopPropagation(),J(r,"lunch",-1)},children:Object(M.jsx)(z.a,{})}),Object(M.jsx)(h.a,{variant:"h5",sx:{mx:1},children:(null===(n=i[r])||void 0===n?void 0:n.lunch)||0}),Object(M.jsx)(u.a,{size:"small",onClick:e=>{e.stopPropagation(),J(r,"lunch",1)},children:Object(M.jsx)(N.a,{})})]}),Object(M.jsxs)(f.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(M.jsx)(u.a,{size:"small",onClick:e=>{e.stopPropagation(),J(r,"dinner",-1)},children:Object(M.jsx)(z.a,{})}),Object(M.jsx)(h.a,{variant:"h5",sx:{mx:1},children:(null===(a=i[r])||void 0===a?void 0:a.dinner)||0}),Object(M.jsx)(u.a,{size:"small",onClick:e=>{e.stopPropagation(),J(r,"dinner",1)},children:Object(M.jsx)(N.a,{})})]})]}),Object(M.jsx)(h.a,{variant:"h6",children:l})]})},r)})}),Object(M.jsxs)(h.a,{variant:"h5",align:"center",sx:{mt:8},children:["Selected Summary: Lunch: ",p,", Dinner: ",g,", Total: ",m]}),Object(M.jsxs)(f.a,{sx:{display:"flex",justifyContent:"center",mt:8,gap:2},children:[Object(M.jsx)(k.a,{variant:"contained",onClick:()=>{localStorage.setItem("mealPlanner",JSON.stringify(i)),b(!1),x(!0)},children:"Save"}),Object(M.jsx)(k.a,{variant:"outlined",onClick:()=>{const e=Object(v.a)({},i);s.forEach(t=>{const n=t.toISOString().split("T")[0];e[n]={lunch:0,dinner:0}}),l(e),b(!0)},children:"Clear All"}),Object(M.jsx)(k.a,{variant:"outlined",onClick:()=>d([]),children:"Unselect All"})]}),Object(M.jsxs)(f.a,{sx:{display:"flex",justifyContent:"center",mt:1,gap:2},children:[Object(M.jsx)(k.a,{variant:"outlined",onClick:()=>{const e=JSON.stringify(i,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="meal-planner.json",a.click()},children:"Export"}),Object(M.jsxs)(k.a,{variant:"outlined",component:"label",children:["Import",Object(M.jsx)("input",{type:"file",accept:".json",hidden:!0,onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);l(t),localStorage.setItem("mealPlanner",JSON.stringify(t)),alert("Meals imported!")}catch(t){alert("Invalid JSON file")}},e.readAsText(t)}}})]})]}),Object(M.jsxs)(C.a,{open:O,onClose:()=>x(!1),children:[Object(M.jsx)(D.a,{children:"Data Saved"}),Object(M.jsx)(w.a,{children:"Meal data saved successfully."}),Object(M.jsx)(I.a,{children:Object(M.jsx)(k.a,{onClick:()=>x(!1),children:"OK"})})]})]})};const B=Object(l.a)({palette:{primary:{main:"#2196f3",dark:"#1769aa",light:"#4dabf5"},secondary:{main:"#2979ff",dark:"#1c54b2",light:"#5393ff"},background:{default:"#f0f8ff",paper:"#e3f2fd"}},typography:{fontSize:18}});var R=function(){const[e,t]=Object(a.useState)(!1),[n,r]=Object(a.useState)(0);return Object(M.jsxs)(s.a,{theme:B,children:[Object(M.jsx)(o.a,{}),Object(M.jsx)(d.a,{position:"static",sx:{backgroundColor:"primary.light"},children:Object(M.jsxs)(j.a,{children:[Object(M.jsx)(u.a,{edge:"start",color:"inherit",onClick:()=>t(!0),children:Object(M.jsx)(m.a,{})}),Object(M.jsx)(h.a,{variant:"h5",sx:{ml:2},children:"Weekly Meal Planner"})]})}),Object(M.jsx)(b.a,{open:e,onClose:()=>t(!1),children:Object(M.jsx)(O.a,{sx:{width:250},children:Object(M.jsx)(x.a,{button:!0,onClick:()=>{r(e=>e+1),t(!1)},children:Object(M.jsx)(p.a,{primary:"Homepage",sx:{fontSize:"1.2rem"}})})})}),Object(M.jsx)(A,{resetTrigger:n})]})};i.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(R,{})}),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.e2a90775.chunk.js.map