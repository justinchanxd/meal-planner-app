{"version":3,"sources":["utils/constants.js","components/WeekCalendar.js","App.js","index.js"],"names":["CARD_MIN_HEIGHT","WeekCalendar","_ref","resetTrigger","getMonday","date","d","Date","day","getDay","diff","getDate","setDate","currentWeekStart","setCurrentWeekStart","useState","meals","setMeals","useEffect","saved","localStorage","getItem","parsed","JSON","parse","cleanMeals","Object","fromEntries","entries","filter","_ref2","key","test","setItem","stringify","weekDays","start","days","i","push","getWeekDays","selectedMeals","setSelectedMeals","initial","concat","hasUnsavedChanges","setHasUnsavedChanges","saveDialogOpen","setSaveDialogOpen","handleBeforeUnload","e","preventDefault","returnValue","window","addEventListener","removeEventListener","toggleMealSelection","dayIndex","type","prev","includes","k","selectedLunch","endsWith","reduce","sum","_meals$weekDays$dayIn","parseInt","split","toISOString","lunch","selectedDinner","_meals$weekDays$dayIn2","dinner","selectedTotal","navigateWeek","_meals$date$toISOStri","_meals$date$toISOStri2","direction","newStart","updateMeal","dateStr","delta","_prev$dateStr","_prev$dateStr2","_prev$dateStr3","_prev$dateStr4","_objectSpread","Math","max","_jsxs","Box","sx","p","backgroundColor","minHeight","children","Typography","variant","align","gutterBottom","_jsx","IconButton","size","width","height","mr","onClick","ArrowBackIcon","fontSize","end","toLocaleDateString","month","formatWeek","ml","ArrowForwardIcon","Grid","container","spacing","justifyContent","map","_meals$dateStr","_meals$dateStr2","dayName","weekday","item","xs","sm","md","display","flexDirection","gap","Paper","elevation","textAlign","cursor","border","mt","alignItems","stopPropagation","RemoveIcon","mx","AddIcon","Button","saveMeals","clearAllMeals","clearedMeals","forEach","async","filteredMeals","_ref3","value","sort","_ref4","_ref5","a","b","localeCompare","dataStr","dataBlob","Blob","file","File","navigator","share","canShare","files","title","text","err","console","error","url","URL","createObjectURL","link","document","createElement","href","download","click","revokeObjectURL","component","accept","hidden","onChange","event","target","reader","FileReader","onload","imported","result","alert","readAsText","Dialog","open","onClose","DialogTitle","DialogContent","DialogActions","theme","createTheme","palette","primary","main","dark","light","secondary","background","default","paper","typography","App","drawerOpen","setDrawerOpen","setResetTrigger","ThemeProvider","CssBaseline","AppBar","position","Toolbar","edge","color","MenuIcon","Drawer","List","ListItem","button","ListItemText","ReactDOM","render","React","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3d8dc047.chunk.js","sourcesContent":["export const CARD_MIN_HEIGHT = \"80px\";\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Button,\r\n  IconButton,\r\n  Box,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n} from \"@mui/material\";\r\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\r\nimport ArrowForwardIcon from \"@mui/icons-material/ArrowForward\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport RemoveIcon from \"@mui/icons-material/Remove\";\r\nimport { CARD_MIN_HEIGHT } from \"../utils/constants\";\r\n\r\nconst WeekCalendar = ({ resetTrigger }) => {\r\n  const getMonday = (date) => {\r\n    const d = new Date(date);\r\n    const day = d.getDay();\r\n    const diff = d.getDate() - day + (day === 0 ? -6 : 1);\r\n    return new Date(d.setDate(diff));\r\n  };\r\n\r\n  const [currentWeekStart, setCurrentWeekStart] = useState(\r\n    getMonday(new Date())\r\n  );\r\n  const [meals, setMeals] = useState({});\r\n\r\n  // Load from localStorage on mount\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"mealPlanner\");\r\n    if (saved) {\r\n      const parsed = JSON.parse(saved);\r\n      // Filter to only date-based keys (YYYY-MM-DD)\r\n      const cleanMeals = Object.fromEntries(\r\n        Object.entries(parsed).filter(([key]) =>\r\n          /^\\d{4}-\\d{2}-\\d{2}$/.test(key)\r\n        )\r\n      );\r\n      setMeals(cleanMeals);\r\n      // Update localStorage with cleaned data\r\n      localStorage.setItem(\"mealPlanner\", JSON.stringify(cleanMeals));\r\n    }\r\n  }, []);\r\n\r\n  const getWeekDays = (start) => {\r\n    const days = [];\r\n    for (let i = 0; i < 7; i++) {\r\n      const date = new Date(start);\r\n      date.setDate(start.getDate() + i);\r\n      days.push(date);\r\n    }\r\n    return days;\r\n  };\r\n\r\n  const weekDays = getWeekDays(currentWeekStart);\r\n\r\n  const [selectedMeals, setSelectedMeals] = useState(() => {\r\n    const initial = [];\r\n    for (let i = 0; i < 7; i++) {\r\n      initial.push(`${i}-lunch`, `${i}-dinner`);\r\n    }\r\n    return initial;\r\n  });\r\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\r\n  const [saveDialogOpen, setSaveDialogOpen] = useState(false);\r\n\r\n  // Prevent page unload with unsaved changes\r\n  useEffect(() => {\r\n    const handleBeforeUnload = (e) => {\r\n      if (hasUnsavedChanges) {\r\n        e.preventDefault();\r\n        e.returnValue =\r\n          \"You have unsaved changes. Are you sure you want to leave?\";\r\n      }\r\n    };\r\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\r\n    return () => window.removeEventListener(\"beforeunload\", handleBeforeUnload);\r\n  }, [hasUnsavedChanges]);\r\n\r\n  // Reset to current week on trigger\r\n  useEffect(() => {\r\n    if (resetTrigger > 0) {\r\n      setCurrentWeekStart(getMonday(new Date()));\r\n    }\r\n  }, [resetTrigger]);\r\n\r\n  // Toggle meal selection\r\n  const toggleMealSelection = (dayIndex, type) => {\r\n    const key = `${dayIndex}-${type}`;\r\n    setSelectedMeals((prev) =>\r\n      prev.includes(key) ? prev.filter((k) => k !== key) : [...prev, key]\r\n    );\r\n  };\r\n\r\n  // Calculate selected summary\r\n  const selectedLunch = selectedMeals\r\n    .filter((key) => key.endsWith(\"-lunch\"))\r\n    .reduce((sum, key) => {\r\n      const dayIndex = parseInt(key.split(\"-\")[0]);\r\n      return (\r\n        sum +\r\n        (meals[weekDays[dayIndex].toISOString().split(\"T\")[0]]?.lunch || 0)\r\n      );\r\n    }, 0);\r\n  const selectedDinner = selectedMeals\r\n    .filter((key) => key.endsWith(\"-dinner\"))\r\n    .reduce((sum, key) => {\r\n      const dayIndex = parseInt(key.split(\"-\")[0]);\r\n      return (\r\n        sum +\r\n        (meals[weekDays[dayIndex].toISOString().split(\"T\")[0]]?.dinner || 0)\r\n      );\r\n    }, 0);\r\n  const selectedTotal = selectedLunch + selectedDinner;\r\n  const totalLunch = weekDays.reduce(\r\n    (sum, date) => sum + (meals[date.toISOString().split(\"T\")[0]]?.lunch || 0),\r\n    0\r\n  );\r\n  const totalDinner = weekDays.reduce(\r\n    (sum, date) => sum + (meals[date.toISOString().split(\"T\")[0]]?.dinner || 0),\r\n    0\r\n  );\r\n  const totalMeals = totalLunch + totalDinner;\r\n\r\n  // Navigation\r\n  const navigateWeek = (direction) => {\r\n    const newStart = new Date(currentWeekStart);\r\n    newStart.setDate(newStart.getDate() + direction * 7);\r\n    setCurrentWeekStart(newStart);\r\n  };\r\n\r\n  // Update counters\r\n  const updateMeal = (dateStr, type, delta) => {\r\n    setMeals((prev) => ({\r\n      ...prev,\r\n      [dateStr]: {\r\n        lunch:\r\n          type === \"lunch\"\r\n            ? Math.max(0, (prev[dateStr]?.lunch || 0) + delta)\r\n            : prev[dateStr]?.lunch || 0,\r\n        dinner:\r\n          type === \"dinner\"\r\n            ? Math.max(0, (prev[dateStr]?.dinner || 0) + delta)\r\n            : prev[dateStr]?.dinner || 0,\r\n      },\r\n    }));\r\n    setHasUnsavedChanges(true);\r\n  };\r\n\r\n  // Save to localStorage\r\n  const saveMeals = () => {\r\n    localStorage.setItem(\"mealPlanner\", JSON.stringify(meals));\r\n    setHasUnsavedChanges(false);\r\n    setSaveDialogOpen(true);\r\n  };\r\n\r\n  // Export as JSON\r\n  const exportMeals = async () => {\r\n    const filteredMeals = Object.fromEntries(\r\n      Object.entries(meals)\r\n        .filter(([key, value]) => {\r\n          const lunch = value?.lunch || 0;\r\n          const dinner = value?.dinner || 0;\r\n          return lunch > 0 || dinner > 0;\r\n        })\r\n        .sort(([a], [b]) => a.localeCompare(b))\r\n    );\r\n    const dataStr = JSON.stringify(filteredMeals, null, 2);\r\n    const dataBlob = new Blob([dataStr], { type: \"application/json\" });\r\n    const file = new File([dataBlob], \"meal-planner.json\", {\r\n      type: \"application/json\",\r\n    });\r\n\r\n    if (\r\n      navigator.share &&\r\n      navigator.canShare &&\r\n      navigator.canShare({ files: [file] })\r\n    ) {\r\n      try {\r\n        await navigator.share({\r\n          title: \"Meal Planner Data\",\r\n          text: \"Exported meal planner data\",\r\n          files: [file],\r\n        });\r\n      } catch (err) {\r\n        console.error(\"Share failed:\", err);\r\n        // Fallback to download\r\n        const url = URL.createObjectURL(dataBlob);\r\n        const link = document.createElement(\"a\");\r\n        link.href = url;\r\n        link.download = \"meal-planner.json\";\r\n        link.click();\r\n        URL.revokeObjectURL(url);\r\n      }\r\n    } else {\r\n      // Fallback for browsers without Web Share API\r\n      const url = URL.createObjectURL(dataBlob);\r\n      const link = document.createElement(\"a\");\r\n      link.href = url;\r\n      link.download = \"meal-planner.json\";\r\n      link.click();\r\n      URL.revokeObjectURL(url);\r\n    }\r\n  };\r\n\r\n  // Import from JSON\r\n  const importMeals = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        try {\r\n          const imported = JSON.parse(e.target.result);\r\n          setMeals(imported);\r\n          localStorage.setItem(\"mealPlanner\", JSON.stringify(imported));\r\n          alert(\"Meals imported!\");\r\n        } catch (err) {\r\n          alert(\"Invalid JSON file\");\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n  };\r\n\r\n  // Clear all meals for current week\r\n  const clearAllMeals = () => {\r\n    const clearedMeals = { ...meals };\r\n    weekDays.forEach((date) => {\r\n      const dateStr = date.toISOString().split(\"T\")[0];\r\n      clearedMeals[dateStr] = { lunch: 0, dinner: 0 };\r\n    });\r\n    setMeals(clearedMeals);\r\n    setHasUnsavedChanges(true);\r\n  };\r\n  const formatWeek = (start) => {\r\n    const end = new Date(start);\r\n    end.setDate(start.getDate() + 6);\r\n    return `${start.toLocaleDateString(\"en-US\", {\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    })} - ${end.toLocaleDateString(\"en-US\", {\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    })}`;\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{ p: 0.5, backgroundColor: \"background.default\", minHeight: \"100vh\" }}\r\n    >\r\n      <Typography variant=\"body1\" align=\"center\" gutterBottom>\r\n        <IconButton\r\n          size=\"small\"\r\n          sx={{ width: 20, height: 20, mr: 1 }}\r\n          onClick={() => navigateWeek(-1)}\r\n        >\r\n          <ArrowBackIcon fontSize=\"small\" />\r\n        </IconButton>\r\n        Week of {formatWeek(currentWeekStart)}\r\n        <IconButton\r\n          size=\"small\"\r\n          sx={{ width: 20, height: 20, ml: 1 }}\r\n          onClick={() => navigateWeek(1)}\r\n        >\r\n          <ArrowForwardIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      </Typography>\r\n      <Grid container spacing={1} justifyContent=\"center\">\r\n        {weekDays.map((date, i) => {\r\n          const dateStr = date.toISOString().split(\"T\")[0];\r\n          const dayName = date.toLocaleDateString(\"en-US\", {\r\n            weekday: \"short\",\r\n          });\r\n          const month = date.toLocaleDateString(\"en-US\", { month: \"short\" });\r\n          const day = date.toLocaleDateString(\"en-US\", { day: \"numeric\" });\r\n          return (\r\n            <Grid item xs={1.6} sm={4} md={2} key={dateStr}>\r\n              <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 1 }}>\r\n                {/* Day Info Card */}\r\n                <Paper\r\n                  elevation={3}\r\n                  sx={{\r\n                    p: 0.5,\r\n                    textAlign: \"center\",\r\n                    backgroundColor: \"background.paper\",\r\n                  }}\r\n                >\r\n                  <Typography variant=\"caption\" sx={{ fontSize: \"0.6rem\" }}>\r\n                    {dayName}\r\n                  </Typography>\r\n                  <br></br>\r\n                  <Typography variant=\"caption\" sx={{ fontSize: \"0.6rem\" }}>\r\n                    {month} {day}\r\n                  </Typography>\r\n                </Paper>\r\n                {/* Lunch Card */}\r\n                <Paper\r\n                  elevation={3}\r\n                  sx={{\r\n                    p: 0.5,\r\n                    textAlign: \"center\",\r\n                    backgroundColor: selectedMeals.includes(`${i}-lunch`)\r\n                      ? \"primary.light\"\r\n                      : \"background.paper\",\r\n                    cursor: \"pointer\",\r\n                    border: selectedMeals.includes(`${i}-lunch`)\r\n                      ? \"2px solid #2196f3\"\r\n                      : \"2px solid transparent\",\r\n                    minHeight: CARD_MIN_HEIGHT,\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    justifyContent: \"center\",\r\n                  }}\r\n                  onClick={() => toggleMealSelection(i, \"lunch\")}\r\n                >\r\n                  <Box sx={{ mt: 0.25 }}>\r\n                    <Box\r\n                      sx={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <IconButton\r\n                        size=\"small\"\r\n                        sx={{ width: 0.5, height: 0.5 }}\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          updateMeal(dateStr, \"lunch\", -1);\r\n                        }}\r\n                      >\r\n                        <RemoveIcon fontSize=\"0.1rem\" />\r\n                      </IconButton>\r\n                      <Typography\r\n                        variant=\"body2\"\r\n                        sx={{ fontSize: \"0.8rem\", mx: 0.25 }}\r\n                      >\r\n                        {meals[dateStr]?.lunch || 0}\r\n                      </Typography>\r\n                      <IconButton\r\n                        size=\"small\"\r\n                        sx={{ width: 0.5, height: 0.5 }}\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          updateMeal(dateStr, \"lunch\", 1);\r\n                        }}\r\n                      >\r\n                        <AddIcon fontSize=\"0.01rem\" />\r\n                      </IconButton>\r\n                    </Box>\r\n                  </Box>\r\n                </Paper>\r\n                {/* Dinner Card */}\r\n                <Paper\r\n                  elevation={3}\r\n                  sx={{\r\n                    p: 0.5,\r\n                    textAlign: \"center\",\r\n                    backgroundColor: selectedMeals.includes(`${i}-dinner`)\r\n                      ? \"primary.light\"\r\n                      : \"background.paper\",\r\n                    cursor: \"pointer\",\r\n                    border: selectedMeals.includes(`${i}-dinner`)\r\n                      ? \"2px solid #2196f3\"\r\n                      : \"2px solid transparent\",\r\n                    minHeight: CARD_MIN_HEIGHT,\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    justifyContent: \"center\",\r\n                  }}\r\n                  onClick={() => toggleMealSelection(i, \"dinner\")}\r\n                >\r\n                  <Box sx={{ mt: 0.25 }}>\r\n                    <Box\r\n                      sx={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <IconButton\r\n                        size=\"small\"\r\n                        sx={{ width: 0.5, height: 0.5 }}\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          updateMeal(dateStr, \"dinner\", -1);\r\n                        }}\r\n                      >\r\n                        <RemoveIcon fontSize=\"0.1rem\" />\r\n                      </IconButton>\r\n                      <Typography\r\n                        variant=\"body2\"\r\n                        sx={{ fontSize: \"0.8rem\", mx: 0.25 }}\r\n                      >\r\n                        {meals[dateStr]?.dinner || 0}\r\n                      </Typography>\r\n                      <IconButton\r\n                        size=\"small\"\r\n                        sx={{ width: 0.5, height: 0.5 }}\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          updateMeal(dateStr, \"dinner\", 1);\r\n                        }}\r\n                      >\r\n                        <AddIcon fontSize=\"0.01rem\" />\r\n                      </IconButton>\r\n                    </Box>\r\n                  </Box>\r\n                </Paper>\r\n              </Box>\r\n            </Grid>\r\n          );\r\n        })}\r\n      </Grid>\r\n      <Typography variant=\"body1\" align=\"center\" sx={{ mt: 2 }}>\r\n        Selected Summary:\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        Lunch: {selectedLunch}\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        Dinner: {selectedDinner}\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        Total: {selectedTotal}\r\n      </Typography>\r\n      {/* <Typography variant=\"h5\" align=\"center\" sx={{ mt: 2 }}>\r\n        Weekly Summary: Lunch: {totalLunch}, Dinner: {totalDinner}, Total:{\" \"}\r\n        {totalMeals}\r\n      </Typography> */}\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 2, gap: 1 }}>\r\n        <Button variant=\"contained\" onClick={saveMeals}>\r\n          Save\r\n        </Button>\r\n        <Button variant=\"outlined\" onClick={clearAllMeals}>\r\n          Clear All\r\n        </Button>\r\n        <Button variant=\"outlined\" onClick={() => setSelectedMeals([])}>\r\n          Unselect All\r\n        </Button>\r\n      </Box>\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 0.5, gap: 1 }}>\r\n        <Button variant=\"outlined\" onClick={exportMeals}>\r\n          Export\r\n        </Button>\r\n        <Button variant=\"outlined\" component=\"label\">\r\n          Import\r\n          <input type=\"file\" accept=\".json\" hidden onChange={importMeals} />\r\n        </Button>\r\n      </Box>\r\n      <Dialog open={saveDialogOpen} onClose={() => setSaveDialogOpen(false)}>\r\n        <DialogTitle>Data Saved</DialogTitle>\r\n        <DialogContent>Meal data saved successfully.</DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setSaveDialogOpen(false)}>OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default WeekCalendar;\r\n","import React, { useState } from \"react\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  IconButton,\n  Drawer,\n  List,\n  ListItem,\n  ListItemText,\n  CssBaseline,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n} from \"@mui/material\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport WeekCalendar from \"./components/WeekCalendar\";\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#2196f3\",\n      dark: \"#1769aa\",\n      light: \"#4dabf5\",\n    },\n    secondary: {\n      main: \"#2979ff\",\n      dark: \"#1c54b2\",\n      light: \"#5393ff\",\n    },\n    background: {\n      default: \"#f0f8ff\",\n      paper: \"#e3f2fd\",\n    },\n  },\n  typography: {\n    fontSize: 18,\n  },\n});\n\nfunction App() {\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [resetTrigger, setResetTrigger] = useState(0);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <AppBar position=\"static\" sx={{ backgroundColor: \"primary.light\" }}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            onClick={() => setDrawerOpen(true)}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h5\" sx={{ ml: 2 }}>\n            Weekly Meal Planner\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Drawer open={drawerOpen} onClose={() => setDrawerOpen(false)}>\n        <List sx={{ width: 250 }}>\n          <ListItem\n            button\n            onClick={() => {\n              setResetTrigger((prev) => prev + 1);\n              setDrawerOpen(false);\n            }}\n          >\n            <ListItemText primary=\"Homepage\" sx={{ fontSize: \"1.2rem\" }} />\n          </ListItem>\n        </List>\n      </Drawer>\n      <WeekCalendar resetTrigger={resetTrigger} />\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}