{"version":3,"sources":["utils/constants.js","components/MealCard.js","components/WeekCalendar.js","components/RecipeManagement.js","App.js","index.js"],"names":["STORAGE_KEY","LOCALE","DATE_OPTIONS_WEEKDAY","weekday","DATE_OPTIONS_MONTH","month","DATE_OPTIONS_DAY","day","DATE_OPTIONS_MONTH_DAY","BORDER_COLOR_SELECTED","FONT_SIZE_CAPTION","ICON_FONT_SIZE","MIME_TYPE_JSON","EXPORT_FILENAME","ALERT_INVALID_JSON","DATE_REGEX","BUTTON_SIZE","MealCard","_ref","_meals$dateStr","dateStr","type","i","meals","selectedMeals","toggleMealSelection","updateMeal","isSelected","includes","concat","_jsx","Paper","elevation","sx","p","textAlign","backgroundColor","cursor","border","minHeight","display","flexDirection","justifyContent","onClick","children","Box","mt","_jsxs","alignItems","IconButton","size","width","height","e","stopPropagation","RemoveIcon","fontSize","Typography","variant","mx","AddIcon","WeekCalendar","resetTrigger","getMonday","date","d","Date","getDay","diff","getDate","setDate","currentWeekStart","setCurrentWeekStart","useState","setMeals","useEffect","saved","localStorage","getItem","parsed","JSON","parse","cleanMeals","Object","fromEntries","entries","filter","_ref2","key","test","setItem","stringify","weekDays","start","days","push","getWeekDays","setSelectedMeals","hasUnsavedChanges","setHasUnsavedChanges","saveDialogOpen","setSaveDialogOpen","handleBeforeUnload","preventDefault","returnValue","window","addEventListener","removeEventListener","dayIndex","prev","k","calculateSelected","mealType","endsWith","reduce","sum","_meals$weekDays$dayIn","parseInt","split","toISOString","selectedLunch","selectedDinner","selectedTotal","navigateWeek","_meals$date$toISOStri","lunch","_meals$date$toISOStri2","dinner","direction","newStart","delta","_prev$dateStr","_prev$dateStr2","_prev$dateStr3","_prev$dateStr4","_objectSpread","Math","max","className","gap","ArrowBackIcon","end","toLocaleDateString","formatWeek","ArrowForwardIcon","Grid","container","spacing","map","dayName","today","isToday","getFullYear","String","getMonth","padStart","item","xs","sm","md","style","padding","align","Button","saveMeals","clearAllMeals","clearedMeals","forEach","async","filteredMeals","_ref3","value","sort","_ref4","_ref5","a","b","localeCompare","dataStr","dataBlob","Blob","file","File","navigator","share","canShare","files","title","text","err","console","error","url","URL","createObjectURL","link","document","createElement","href","download","click","revokeObjectURL","component","accept","hidden","onChange","event","target","reader","FileReader","onload","imported","result","alert","readAsText","Dialog","open","onClose","DialogTitle","DialogContent","DialogActions","RecipeManagement","recipes","setRecipes","dialogOpen","setDialogOpen","dialogMode","setDialogMode","currentRecipe","setCurrentRecipe","name","ingredients","instructions","remark","searchTerm","setSearchTerm","useRef","saveRecipes","newRecipes","filteredRecipes","r","values","val","some","str","toLowerCase","table","useReactTable","data","columns","accessorKey","header","getCoreRowModel","getSortedRowModel","TextField","label","maxWidth","startIcon","handleAdd","handleExport","dataUri","encodeURIComponent","linkElement","setAttribute","disabled","length","TableContainer","Table","TableHead","getHeaderGroups","headerGroup","TableRow","headers","_asc$desc$header$colu","TableCell","column","getToggleSortingHandler","flexRender","columnDef","getContext","asc","desc","getIsSorted","id","TableBody","getRowModel","rows","colSpan","getAllColumns","row","original","getVisibleCells","cell","required","multiline","confirm","handleDelete","color","handleSave","newRecipe","now","updated","trim","theme","createTheme","palette","primary","main","dark","light","secondary","background","default","paper","typography","App","drawerOpen","setDrawerOpen","setResetTrigger","location","useLocation","ThemeProvider","CssBaseline","AppBar","position","Toolbar","edge","MenuIcon","ml","Drawer","List","ListItem","button","Link","to","selected","pathname","ListItemText","Routes","Route","path","element","Navigate","replace","ReactDOM","render","React","StrictMode","Router","basename","getElementById"],"mappings":"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","file":"static/js/main.8443cac2.chunk.js","sourcesContent":["export const CARD_MIN_HEIGHT = \"80px\";\r\n\r\n// LocalStorage\r\nexport const STORAGE_KEY = \"mealPlanner\";\r\n\r\n// Locale\r\nexport const LOCALE = \"en-US\";\r\n\r\n// Date formatting options\r\nexport const DATE_OPTIONS_WEEKDAY = { weekday: \"short\" };\r\nexport const DATE_OPTIONS_MONTH = { month: \"short\" };\r\nexport const DATE_OPTIONS_DAY = { day: \"numeric\" };\r\nexport const DATE_OPTIONS_MONTH_DAY = { month: \"short\", day: \"numeric\" };\r\n\r\n// Colors\r\nexport const BORDER_COLOR_SELECTED = \"#2196f3\";\r\n\r\n// Font sizes\r\nexport const FONT_SIZE_CAPTION = \"0.6rem\";\r\nexport const FONT_SIZE_BODY = \"0.8rem\";\r\nexport const FONT_SIZE_BUTTON = \"0.8rem\";\r\n\r\n// Icon sizes\r\nexport const ICON_FONT_SIZE = \"0.1rem\";\r\n\r\n// MIME types\r\nexport const MIME_TYPE_JSON = \"application/json\";\r\n\r\n// File names\r\nexport const EXPORT_FILENAME = \"meal-planner.json\";\r\n\r\n// Dialog and alert messages\r\nexport const DIALOG_TITLE_SAVED = \"Data Saved\";\r\nexport const DIALOG_MESSAGE_SAVED = \"Meal data saved successfully.\";\r\nexport const ALERT_INVALID_JSON = \"Invalid JSON file\";\r\nexport const ALERT_IMPORTED = \"Meals imported!\";\r\nexport const ALERT_INVALID_RECIPES_FORMAT = \"Invalid recipes format. Expected an array.\";\r\nexport const CONFIRM_IMPORT_RECIPES = \"Importing will replace all existing recipes. Are you sure?\";\r\nexport const BEFORE_UNLOAD_MESSAGE = \"You have unsaved changes. Are you sure you want to leave?\";\r\nexport const DIALOG_BUTTON_OK = \"OK\";\r\n\r\n// Share API\r\nexport const SHARE_TITLE = \"Meal Planner Data\";\r\nexport const SHARE_TEXT = \"Exported meal planner data\";\r\n\r\n// Regex\r\nexport const DATE_REGEX = /^\\d{4}-\\d{2}-\\d{2}$/;\r\n\r\n// Button sizes\r\nexport const BUTTON_SIZE = \"small\";\r\n\r\n// Admin flags\r\nexport const ADMIN_FLAG = 0; // Set to 1 to enable admin features\r\n\r\n","import React from \"react\";\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  IconButton,\r\n  Box,\r\n} from \"@mui/material\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport RemoveIcon from \"@mui/icons-material/Remove\";\r\nimport {\r\n  CARD_MIN_HEIGHT,\r\n  BORDER_COLOR_SELECTED,\r\n  FONT_SIZE_BODY,\r\n  ICON_FONT_SIZE,\r\n  BUTTON_SIZE,\r\n} from \"../utils/constants\";\r\n\r\nconst MealCard = ({ dateStr, type, i, meals, selectedMeals, toggleMealSelection, updateMeal }) => {\r\n  const isSelected = selectedMeals.includes(`${i}-${type}`);\r\n  return (\r\n    <Paper\r\n      elevation={3}\r\n      sx={{\r\n        p: 0.5,\r\n        textAlign: \"center\",\r\n        backgroundColor: isSelected ? \"primary.light\" : \"background.paper\",\r\n        cursor: \"pointer\",\r\n        border: isSelected ? `2px solid ${BORDER_COLOR_SELECTED}` : \"2px solid transparent\",\r\n        minHeight: CARD_MIN_HEIGHT,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n      }}\r\n      onClick={() => toggleMealSelection(i, type)}\r\n    >\r\n      <Box sx={{ mt: 0.25 }}>\r\n        <Box sx={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\r\n          <IconButton\r\n            size={BUTTON_SIZE}\r\n            sx={{ width: 0.5, height: 0.5 }}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              updateMeal(dateStr, type, -1);\r\n            }}\r\n          >\r\n            <RemoveIcon fontSize={ICON_FONT_SIZE} />\r\n          </IconButton>\r\n          <Typography variant=\"body2\" sx={{ fontSize: FONT_SIZE_BODY, mx: 0.25 }}>\r\n            {meals[dateStr]?.[type] || 0}\r\n          </Typography>\r\n          <IconButton\r\n            size={BUTTON_SIZE}\r\n            sx={{ width: 0.5, height: 0.5 }}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              updateMeal(dateStr, type, 1);\r\n            }}\r\n          >\r\n            <AddIcon fontSize={ICON_FONT_SIZE} />\r\n          </IconButton>\r\n        </Box>\r\n      </Box>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default MealCard;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Button,\r\n  IconButton,\r\n  Box,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n} from \"@mui/material\";\r\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\r\nimport ArrowForwardIcon from \"@mui/icons-material/ArrowForward\";\r\nimport MealCard from \"./MealCard\";\r\nimport {\r\n  CARD_MIN_HEIGHT,\r\n  STORAGE_KEY,\r\n  LOCALE,\r\n  DATE_OPTIONS_WEEKDAY,\r\n  DATE_OPTIONS_MONTH,\r\n  DATE_OPTIONS_DAY,\r\n  DATE_OPTIONS_MONTH_DAY,\r\n  BORDER_COLOR_SELECTED,\r\n  FONT_SIZE_CAPTION,\r\n  FONT_SIZE_BODY,\r\n  FONT_SIZE_BUTTON,\r\n  ICON_FONT_SIZE,\r\n  MIME_TYPE_JSON,\r\n  EXPORT_FILENAME,\r\n  DIALOG_TITLE_SAVED,\r\n  DIALOG_MESSAGE_SAVED,\r\n  ALERT_INVALID_JSON,\r\n  ALERT_IMPORTED,\r\n  BEFORE_UNLOAD_MESSAGE,\r\n  SHARE_TITLE,\r\n  SHARE_TEXT,\r\n  DATE_REGEX,\r\n  BUTTON_SIZE,\r\n  DIALOG_BUTTON_OK,\r\n} from \"../utils/constants\";\r\n\r\nconst WeekCalendar = ({ resetTrigger }) => {\r\n  const getMonday = (date) => {\r\n    const d = new Date(date);\r\n    const day = d.getDay();\r\n    const diff = d.getDate() - day + (day === 0 ? -6 : 1);\r\n    return new Date(d.setDate(diff));\r\n  };\r\n\r\n  const [currentWeekStart, setCurrentWeekStart] = useState(\r\n    getMonday(new Date())\r\n  );\r\n  const [meals, setMeals] = useState({});\r\n\r\n  // Load from localStorage on mount\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(STORAGE_KEY);\r\n    if (saved) {\r\n      const parsed = JSON.parse(saved);\r\n      // Filter to only date-based keys (YYYY-MM-DD)\r\n      const cleanMeals = Object.fromEntries(\r\n        Object.entries(parsed).filter(([key]) => DATE_REGEX.test(key))\r\n      );\r\n      setMeals(cleanMeals);\r\n      // Update localStorage with cleaned data\r\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(cleanMeals));\r\n    }\r\n  }, []);\r\n\r\n  const getWeekDays = (start) => {\r\n    const days = [];\r\n    for (let i = 0; i < 7; i++) {\r\n      const date = new Date(start);\r\n      date.setDate(start.getDate() + i);\r\n      days.push(date);\r\n    }\r\n    return days;\r\n  };\r\n\r\n  const weekDays = getWeekDays(currentWeekStart);\r\n\r\n  const [selectedMeals, setSelectedMeals] = useState([]);\r\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\r\n  const [saveDialogOpen, setSaveDialogOpen] = useState(false);\r\n\r\n  // Prevent page unload with unsaved changes\r\n  useEffect(() => {\r\n    const handleBeforeUnload = (e) => {\r\n      if (hasUnsavedChanges) {\r\n        e.preventDefault();\r\n        e.returnValue = BEFORE_UNLOAD_MESSAGE;\r\n      }\r\n    };\r\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\r\n    return () => window.removeEventListener(\"beforeunload\", handleBeforeUnload);\r\n  }, [hasUnsavedChanges]);\r\n\r\n  // Reset to current week on trigger\r\n  useEffect(() => {\r\n    if (resetTrigger > 0) {\r\n      setCurrentWeekStart(getMonday(new Date()));\r\n    }\r\n  }, [resetTrigger]);\r\n\r\n  // Toggle meal selection\r\n  const toggleMealSelection = (dayIndex, type) => {\r\n    const key = `${dayIndex}-${type}`;\r\n    setSelectedMeals((prev) =>\r\n      prev.includes(key) ? prev.filter((k) => k !== key) : [...prev, key]\r\n    );\r\n  };\r\n\r\n  // Generalized calculation for selected meals\r\n  const calculateSelected = (mealType) =>\r\n    selectedMeals\r\n      .filter((key) => key.endsWith(`-${mealType}`))\r\n      .reduce((sum, key) => {\r\n        const dayIndex = parseInt(key.split(\"-\")[0]);\r\n        return (\r\n          sum +\r\n          (meals[weekDays[dayIndex].toISOString().split(\"T\")[0]]?.[mealType] ||\r\n            0)\r\n        );\r\n      }, 0);\r\n\r\n  const selectedLunch = calculateSelected(\"lunch\");\r\n  const selectedDinner = calculateSelected(\"dinner\");\r\n  const selectedTotal = selectedLunch + selectedDinner;\r\n  const totalLunch = weekDays.reduce(\r\n    (sum, date) => sum + (meals[date.toISOString().split(\"T\")[0]]?.lunch || 0),\r\n    0\r\n  );\r\n  const totalDinner = weekDays.reduce(\r\n    (sum, date) => sum + (meals[date.toISOString().split(\"T\")[0]]?.dinner || 0),\r\n    0\r\n  );\r\n  const totalMeals = totalLunch + totalDinner;\r\n\r\n  // Navigation\r\n  const navigateWeek = (direction) => {\r\n    const newStart = new Date(currentWeekStart);\r\n    newStart.setDate(newStart.getDate() + direction * 7);\r\n    setCurrentWeekStart(newStart);\r\n  };\r\n\r\n  // Update counters\r\n  const updateMeal = (dateStr, type, delta) => {\r\n    setMeals((prev) => ({\r\n      ...prev,\r\n      [dateStr]: {\r\n        lunch:\r\n          type === \"lunch\"\r\n            ? Math.max(0, (prev[dateStr]?.lunch || 0) + delta)\r\n            : prev[dateStr]?.lunch || 0,\r\n        dinner:\r\n          type === \"dinner\"\r\n            ? Math.max(0, (prev[dateStr]?.dinner || 0) + delta)\r\n            : prev[dateStr]?.dinner || 0,\r\n      },\r\n    }));\r\n    setHasUnsavedChanges(true);\r\n  };\r\n\r\n  // Save to localStorage\r\n  const saveMeals = () => {\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(meals));\r\n    setHasUnsavedChanges(false);\r\n    setSaveDialogOpen(true);\r\n  };\r\n\r\n  // Export as JSON\r\n  const exportMeals = async () => {\r\n    const filteredMeals = Object.fromEntries(\r\n      Object.entries(meals)\r\n        .filter(([key, value]) => {\r\n          const lunch = value?.lunch || 0;\r\n          const dinner = value?.dinner || 0;\r\n          return lunch > 0 || dinner > 0;\r\n        })\r\n        .sort(([a], [b]) => a.localeCompare(b))\r\n    );\r\n    const dataStr = JSON.stringify(filteredMeals, null, 2);\r\n    const dataBlob = new Blob([dataStr], { type: MIME_TYPE_JSON });\r\n    const file = new File([dataBlob], EXPORT_FILENAME, {\r\n      type: MIME_TYPE_JSON,\r\n    });\r\n\r\n    if (\r\n      navigator.share &&\r\n      navigator.canShare &&\r\n      navigator.canShare({ files: [file] })\r\n    ) {\r\n      try {\r\n        await navigator.share({\r\n          title: SHARE_TITLE,\r\n          text: SHARE_TEXT,\r\n          files: [file],\r\n        });\r\n      } catch (err) {\r\n        console.error(\"Share failed:\", err);\r\n        // Fallback to download\r\n        const url = URL.createObjectURL(dataBlob);\r\n        const link = document.createElement(\"a\");\r\n        link.href = url;\r\n        link.download = EXPORT_FILENAME;\r\n        link.click();\r\n        URL.revokeObjectURL(url);\r\n      }\r\n    } else {\r\n      // Fallback for browsers without Web Share API\r\n      const url = URL.createObjectURL(dataBlob);\r\n      const link = document.createElement(\"a\");\r\n      link.href = url;\r\n      link.download = EXPORT_FILENAME;\r\n      link.click();\r\n      URL.revokeObjectURL(url);\r\n    }\r\n  };\r\n\r\n  // Import from JSON\r\n  const importMeals = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        try {\r\n          const imported = JSON.parse(e.target.result);\r\n          setMeals(imported);\r\n          localStorage.setItem(STORAGE_KEY, JSON.stringify(imported));\r\n          alert(ALERT_IMPORTED);\r\n        } catch (err) {\r\n          alert(ALERT_INVALID_JSON);\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n  };\r\n\r\n  // Clear all meals for current week\r\n  const clearAllMeals = () => {\r\n    const clearedMeals = { ...meals };\r\n    weekDays.forEach((date) => {\r\n      const dateStr = date.toISOString().split(\"T\")[0];\r\n      clearedMeals[dateStr] = { lunch: 0, dinner: 0 };\r\n    });\r\n    setMeals(clearedMeals);\r\n    setHasUnsavedChanges(true);\r\n  };\r\n  const formatWeek = (start) => {\r\n    const end = new Date(start);\r\n    end.setDate(start.getDate() + 6);\r\n    return `${start.toLocaleDateString(\r\n      LOCALE,\r\n      DATE_OPTIONS_MONTH_DAY\r\n    )} - ${end.toLocaleDateString(LOCALE, DATE_OPTIONS_MONTH_DAY)}`;\r\n  };\r\n\r\n  return (\r\n    <Box className=\"pageContainer\">\r\n      <Typography variant=\"h5\" className=\"titleTypography\">\r\n        Meal CalendarüìÖ\r\n      </Typography>\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          gap: 1,\r\n        }}\r\n      >\r\n        <IconButton onClick={() => navigateWeek(-1)}>\r\n          <ArrowBackIcon />\r\n        </IconButton>\r\n        <Typography variant=\"body1\" className=\"subtitleTypography\">\r\n          Week of {formatWeek(currentWeekStart)}\r\n        </Typography>\r\n        <IconButton onClick={() => navigateWeek(1)}>\r\n          <ArrowForwardIcon />\r\n        </IconButton>\r\n      </Box>\r\n      <Grid container spacing={1} justifyContent=\"center\">\r\n        {weekDays.map((date, i) => {\r\n          const dateStr = date.toISOString().split(\"T\")[0];\r\n          const dayName = date.toLocaleDateString(LOCALE, DATE_OPTIONS_WEEKDAY);\r\n          const month = date.toLocaleDateString(LOCALE, DATE_OPTIONS_MONTH);\r\n          const day = date.toLocaleDateString(LOCALE, DATE_OPTIONS_DAY);\r\n          const today = new Date();\r\n          const localDateStr =\r\n            today.getFullYear() +\r\n            \"-\" +\r\n            String(today.getMonth() + 1).padStart(2, \"0\") +\r\n            \"-\" +\r\n            String(today.getDate()).padStart(2, \"0\");\r\n          const isToday = dateStr === localDateStr;\r\n          return (\r\n            <Grid item xs={1.6} sm={1.5} md={1.5} key={dateStr}>\r\n              <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 1 }}>\r\n                {/* Day Info Card */}\r\n                <Paper\r\n                  style={{ padding: 0 }}\r\n                  elevation={3}\r\n                  sx={{\r\n                    p: 0.5,\r\n                    textAlign: \"center\",\r\n                    backgroundColor: isToday\r\n                      ? \"primary.light\"\r\n                      : \"background.paper\",\r\n                    border: isToday\r\n                      ? `2px solid ${BORDER_COLOR_SELECTED}`\r\n                      : \"2px solid transparent\",\r\n                  }}\r\n                >\r\n                  <Typography\r\n                    variant=\"caption\"\r\n                    sx={{ fontSize: FONT_SIZE_CAPTION }}\r\n                  >\r\n                    {dayName}\r\n                  </Typography>\r\n                  <br></br>\r\n                  <Typography\r\n                    variant=\"caption\"\r\n                    sx={{ fontSize: FONT_SIZE_CAPTION }}\r\n                  >\r\n                    {month} {day}\r\n                  </Typography>\r\n                </Paper>\r\n                {/* Lunch Card */}\r\n                <MealCard\r\n                  dateStr={dateStr}\r\n                  type=\"lunch\"\r\n                  i={i}\r\n                  meals={meals}\r\n                  selectedMeals={selectedMeals}\r\n                  toggleMealSelection={toggleMealSelection}\r\n                  updateMeal={updateMeal}\r\n                />\r\n                {/* Dinner Card */}\r\n                <MealCard\r\n                  dateStr={dateStr}\r\n                  type=\"dinner\"\r\n                  i={i}\r\n                  meals={meals}\r\n                  selectedMeals={selectedMeals}\r\n                  toggleMealSelection={toggleMealSelection}\r\n                  updateMeal={updateMeal}\r\n                />\r\n              </Box>\r\n            </Grid>\r\n          );\r\n        })}\r\n      </Grid>\r\n\r\n      <Typography variant=\"body1\" align=\"center\" sx={{ mt: 2 }}>\r\n        üìäSelected Summary:\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        Lunch: {selectedLunch}\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        Dinner: {selectedDinner}\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        Total: {selectedTotal}\r\n      </Typography>\r\n\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 2, gap: 1 }}>\r\n        <Button variant=\"contained\" onClick={saveMeals} className=\"buttonMp\">\r\n          Save\r\n        </Button>\r\n        <Button variant=\"outlined\" onClick={clearAllMeals} className=\"buttonMp\">\r\n          Clear All\r\n        </Button>\r\n        <Button\r\n          variant=\"outlined\"\r\n          onClick={() => setSelectedMeals([])}\r\n          className=\"buttonMp\"\r\n        >\r\n          Unselect All\r\n        </Button>\r\n      </Box>\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 0.5, gap: 1 }}>\r\n        <Button variant=\"outlined\" onClick={exportMeals} className=\"buttonMp\">\r\n          Export\r\n        </Button>\r\n        <Button variant=\"outlined\" component=\"label\" className=\"buttonMp\">\r\n          Import\r\n          <input type=\"file\" accept=\".json\" hidden onChange={importMeals} />\r\n        </Button>\r\n      </Box>\r\n      <Dialog open={saveDialogOpen} onClose={() => setSaveDialogOpen(false)}>\r\n        <DialogTitle>{DIALOG_TITLE_SAVED}</DialogTitle>\r\n        <DialogContent>{DIALOG_MESSAGE_SAVED}</DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setSaveDialogOpen(false)} className=\"buttonMp\">\r\n            {DIALOG_BUTTON_OK}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default WeekCalendar;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Button,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport { useReactTable, getCoreRowModel, getSortedRowModel, flexRender } from \"@tanstack/react-table\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport {\r\n  ALERT_INVALID_JSON,\r\n  ALERT_INVALID_RECIPES_FORMAT,\r\n  CONFIRM_IMPORT_RECIPES,\r\n  ADMIN_FLAG,\r\n} from \"../utils/constants\";\r\n\r\nconst RecipeManagement = () => {\r\n  const [recipes, setRecipes] = useState([]);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [dialogMode, setDialogMode] = useState(\"add\"); // 'add' or 'edit'\r\n  const [currentRecipe, setCurrentRecipe] = useState({ name: \"\", ingredients: \"\", instructions: \"\", remark: \"\" });\r\n  const fileInputRef = useRef(null);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n  // Load recipes from localStorage on mount\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"recipes\");\r\n    if (saved) {\r\n      setRecipes(JSON.parse(saved));\r\n    }\r\n  }, []);\r\n\r\n  // Save recipes to localStorage\r\n  const saveRecipes = (newRecipes) => {\r\n    setRecipes(newRecipes);\r\n    localStorage.setItem(\"recipes\", JSON.stringify(newRecipes));\r\n  };\r\n\r\n  // Define columns\r\n  const columns = [\r\n    {\r\n      accessorKey: \"name\",\r\n      header: \"Name\",\r\n    },\r\n    {\r\n      accessorKey: \"ingredients\",\r\n      header: \"Ingredients\",\r\n    },\r\n    {\r\n      accessorKey: \"remark\",\r\n      header: \"Remark\",\r\n    },\r\n  ];\r\n\r\n  const filteredRecipes = recipes.filter((r) =>\r\n    Object.values(r)\r\n      .filter((val) => typeof val === 'string')\r\n      .some((str) => str.toLowerCase().includes(searchTerm.toLowerCase()))\r\n  );\r\n\r\n  const table = useReactTable({\r\n    data: filteredRecipes,\r\n    columns,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n  });\r\n\r\n  const handleEdit = (recipe) => {\r\n    setDialogMode(\"edit\");\r\n    setCurrentRecipe({ ...recipe });\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    const newRecipes = recipes.filter((r) => r.id !== id);\r\n    saveRecipes(newRecipes);\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    setDialogMode(\"add\");\r\n    setCurrentRecipe({ name: \"\", ingredients: \"\", instructions: \"\", remark: \"\" });\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDialogOpen(false);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    if (dialogMode === \"add\") {\r\n      const newRecipe = { ...currentRecipe, id: Date.now() };\r\n      saveRecipes([...recipes, newRecipe]);\r\n    } else {\r\n      const updated = recipes.map((r) => (r.id === currentRecipe.id ? currentRecipe : r));\r\n      saveRecipes(updated);\r\n    }\r\n    setDialogOpen(false);\r\n  };\r\n\r\n  const handleExport = () => {\r\n    const dataStr = JSON.stringify(recipes, null, 2);\r\n    const dataUri = \"data:application/json;charset=utf-8,\" + encodeURIComponent(dataStr);\r\n    const exportFileDefaultName = \"recipes.json\";\r\n    const linkElement = document.createElement(\"a\");\r\n    linkElement.setAttribute(\"href\", dataUri);\r\n    linkElement.setAttribute(\"download\", exportFileDefaultName);\r\n    linkElement.click();\r\n  };\r\n\r\n  const handleImportClick = () => {\r\n    fileInputRef.current.click();\r\n  };\r\n\r\n  const handleFileChange = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        try {\r\n          const importedRecipes = JSON.parse(e.target.result);\r\n          if (Array.isArray(importedRecipes)) {\r\n            if (window.confirm(CONFIRM_IMPORT_RECIPES)) {\r\n              saveRecipes(importedRecipes);\r\n            }\r\n          } else {\r\n            alert(ALERT_INVALID_RECIPES_FORMAT);\r\n          }\r\n        } catch (error) {\r\n          alert(ALERT_INVALID_JSON);\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box className=\"pageContainer\">\r\n      <Typography variant=\"h5\" className=\"titleTypography\">\r\n        Recipeüìù\r\n      </Typography>\r\n      <Box className=\"boxMb2\" sx={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        <TextField\r\n          label=\"Search recipes\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className=\"textField\"\r\n          sx={{ maxWidth: 400 }}\r\n        />\r\n      </Box>\r\n      <Box className=\"boxMb2 boxGap2\" sx={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        <Button variant=\"contained\" startIcon={<AddIcon />} onClick={handleAdd} className=\"buttonMp buttonFixed\">\r\n          Add Recipe\r\n        </Button>\r\n        <Button variant=\"outlined\" onClick={handleExport} disabled={recipes.length === 0} className=\"buttonMp buttonFixed\">\r\n          Export Recipes\r\n        </Button>\r\n        {ADMIN_FLAG ? (\r\n          <Button variant=\"outlined\" onClick={handleImportClick} className=\"buttonMp buttonFixed\">\r\n            Import Recipes\r\n          </Button>\r\n        ) : \"\"}\r\n        {ADMIN_FLAG ? (\r\n          <input\r\n            type=\"file\"\r\n            ref={fileInputRef}\r\n            onChange={handleFileChange}\r\n            style={{ display: 'none' }}\r\n            accept=\".json\"\r\n          />\r\n        ) : \"\"}\r\n      </Box>\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            {table.getHeaderGroups().map((headerGroup) => (\r\n              <TableRow key={headerGroup.id}>\r\n                {headerGroup.headers.map((header) => (\r\n                  <TableCell key={header.id} onClick={header.column.getToggleSortingHandler()}>\r\n                    {flexRender(header.column.columnDef.header, header.getContext())}\r\n                    {{\r\n                      asc: \" üîº\",\r\n                      desc: \" üîΩ\",\r\n                    }[header.column.getIsSorted()] ?? null}\r\n                  </TableCell>\r\n                ))}\r\n              </TableRow>\r\n            ))}\r\n          </TableHead>\r\n          <TableBody>\r\n            {table.getRowModel().rows.length === 0 ? (\r\n              <TableRow>\r\n                <TableCell colSpan={table.getAllColumns().length} align=\"center\">\r\n                  No recipes found. Click \"Add Recipe\" to get started.\r\n                </TableCell>\r\n              </TableRow>\r\n            ) : (\r\n              table.getRowModel().rows.map((row) => (\r\n                <TableRow\r\n                  key={row.id}\r\n                  onClick={() => {\r\n                    setDialogMode(\"edit\");\r\n                    setCurrentRecipe({ ...row.original });\r\n                    setDialogOpen(true);\r\n                  }}\r\n                  className=\"tableRow\"\r\n                >\r\n                  {row.getVisibleCells().map((cell) => (\r\n                    <TableCell key={cell.id}>\r\n                      {flexRender(cell.column.columnDef.cell, cell.getContext())}\r\n                    </TableCell>\r\n                  ))}\r\n                </TableRow>\r\n              ))\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <Dialog open={dialogOpen} onClose={() => setDialogOpen(false)} className=\"dialog\">\r\n        <DialogTitle>{dialogMode === \"add\" ? \"Add Recipe\" : \"Edit Recipe\"}</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            label=\"Name\"\r\n            value={currentRecipe.name}\r\n            onChange={(e) => setCurrentRecipe({ ...currentRecipe, name: e.target.value })}\r\n            className=\"textField\"\r\n            required\r\n          />\r\n          <TextField\r\n            label=\"Ingredients\"\r\n            value={currentRecipe.ingredients}\r\n            onChange={(e) => setCurrentRecipe({ ...currentRecipe, ingredients: e.target.value })}\r\n            className=\"textField\"\r\n            multiline\r\n            rows={4}\r\n          />\r\n          <TextField\r\n            label=\"Instructions\"\r\n            value={currentRecipe.instructions}\r\n            onChange={(e) => setCurrentRecipe({ ...currentRecipe, instructions: e.target.value })}\r\n            className=\"textField\"\r\n            multiline\r\n            rows={4}\r\n          />\r\n          <TextField\r\n            label=\"Remark\"\r\n            value={currentRecipe.remark}\r\n            onChange={(e) => setCurrentRecipe({ ...currentRecipe, remark: e.target.value })}\r\n            className=\"textField\"\r\n            multiline\r\n            rows={4}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {dialogMode === \"edit\" && (\r\n            <Button\r\n              onClick={() => {\r\n                if (window.confirm(\"Are you sure you want to delete this recipe?\")) {\r\n                  handleDelete(currentRecipe.id);\r\n                  setDialogOpen(false);\r\n                }\r\n              }}\r\n              variant=\"outlined\"\r\n              color=\"error\"\r\n              className=\"buttonMp buttonFixed\"\r\n            >\r\n              Delete\r\n            </Button>\r\n          )}\r\n          <Button onClick={() => setDialogOpen(false)} className=\"buttonMp buttonFixed\">Cancel</Button>\r\n          <Button onClick={handleSave} variant=\"contained\" disabled={!currentRecipe.name.trim()} className=\"buttonMp buttonFixed\">\r\n            Save\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default RecipeManagement;\r\n","import React, { useState } from \"react\";\r\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  CssBaseline,\r\n} from \"@mui/material\";\r\nimport MenuIcon from \"@mui/icons-material/Menu\";\r\nimport { Routes, Route, Link, useLocation, Navigate } from \"react-router-dom\";\r\nimport WeekCalendar from \"./components/WeekCalendar\";\r\nimport RecipeManagement from \"./components/RecipeManagement\";\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#2196f3\",\r\n      dark: \"#1769aa\",\r\n      light: \"#4dabf5\",\r\n    },\r\n    secondary: {\r\n      main: \"#2979ff\",\r\n      dark: \"#1c54b2\",\r\n      light: \"#5393ff\",\r\n    },\r\n    background: {\r\n      default: \"#f0f8ff\",\r\n      paper: \"#e3f2fd\",\r\n    },\r\n  },\r\n  typography: {\r\n    fontSize: 18,\r\n  },\r\n});\r\n\r\nfunction App() {\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [resetTrigger, setResetTrigger] = useState(0);\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <AppBar position=\"static\" sx={{ backgroundColor: \"primary.light\" }}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            onClick={() => setDrawerOpen(true)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h5\" sx={{ ml: 2 }}>\r\n            Meal Planner üç≥\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer open={drawerOpen} onClose={() => setDrawerOpen(false)}>\r\n        <List sx={{ width: 200 }}>\r\n          <ListItem\r\n            button\r\n            component={Link}\r\n            to=\"/calendar\"\r\n            selected={location.pathname === \"/calendar\"}\r\n            onClick={() => {\r\n              setResetTrigger((prev) => prev + 1);\r\n              setDrawerOpen(false);\r\n            }}\r\n            sx={{\r\n              backgroundColor:\r\n                location.pathname === \"/calendar\"\r\n                  ? \"primary.light\"\r\n                  : \"transparent\",\r\n              \"&.Mui-selected\": {\r\n                backgroundColor: \"primary.light\",\r\n                \"&:hover\": {\r\n                  backgroundColor: \"primary.main\",\r\n                },\r\n              },\r\n            }}\r\n          >\r\n            <ListItemText\r\n              primary=\"Calendar\"\r\n              sx={{ fontSize: \"1.2rem\" }}\r\n            />\r\n          </ListItem>\r\n          <ListItem\r\n            button\r\n            component={Link}\r\n            to=\"/recipe\"\r\n            selected={location.pathname === \"/recipe\"}\r\n            onClick={() => setDrawerOpen(false)}\r\n            sx={{\r\n              backgroundColor:\r\n                location.pathname === \"/recipe\"\r\n                  ? \"primary.light\"\r\n                  : \"transparent\",\r\n              \"&.Mui-selected\": {\r\n                backgroundColor: \"primary.light\",\r\n                \"&:hover\": {\r\n                  backgroundColor: \"primary.main\",\r\n                },\r\n              },\r\n            }}\r\n          >\r\n            <ListItemText primary=\"Recipe\" sx={{ fontSize: \"1.2rem\" }} />\r\n          </ListItem>\r\n        </List>\r\n      </Drawer>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Navigate to=\"/calendar\" replace />} />\r\n        <Route\r\n          path=\"/calendar\"\r\n          element={<WeekCalendar resetTrigger={resetTrigger} />}\r\n        />\r\n        <Route path=\"/recipe\" element={<RecipeManagement />} />\r\n      </Routes>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router basename=\"/meal-planner-app\">\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}