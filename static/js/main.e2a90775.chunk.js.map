{"version":3,"sources":["components/WeekCalendar.js","App.js","index.js"],"names":["WeekCalendar","_ref","resetTrigger","getMonday","date","d","Date","day","getDay","diff","getDate","setDate","currentWeekStart","setCurrentWeekStart","useState","meals","setMeals","useEffect","saved","localStorage","getItem","parsed","JSON","parse","cleanMeals","Object","fromEntries","entries","filter","_ref2","key","test","setItem","stringify","weekDays","start","days","i","push","getWeekDays","selectedDays","setSelectedDays","hasUnsavedChanges","setHasUnsavedChanges","saveDialogOpen","setSaveDialogOpen","handleBeforeUnload","e","preventDefault","returnValue","window","addEventListener","removeEventListener","selectedLunch","reduce","sum","idx","_meals$weekDays$idx$t","toISOString","split","lunch","selectedDinner","_meals$weekDays$idx$t2","dinner","selectedTotal","navigateWeek","_meals$date$toISOStri","_meals$date$toISOStri2","direction","newStart","updateMeal","dateStr","type","delta","prev","_prev$dateStr","_prev$dateStr2","_prev$dateStr3","_prev$dateStr4","_objectSpread","Math","max","_jsxs","Box","sx","p","backgroundColor","minHeight","children","Typography","variant","align","gutterBottom","_jsx","IconButton","onClick","ArrowBackIcon","end","concat","toLocaleDateString","month","formatWeek","ArrowForwardIcon","Grid","container","spacing","justifyContent","map","_meals$dateStr","_meals$dateStr2","dayName","weekday","displayDate","item","xs","sm","md","Paper","elevation","textAlign","includes","cursor","border","toggleDaySelection","index","mt","display","alignItems","mb","size","stopPropagation","RemoveIcon","mx","AddIcon","gap","Button","saveMeals","clearAllMeals","clearedMeals","forEach","exportMeals","dataStr","dataBlob","Blob","url","URL","createObjectURL","link","document","createElement","href","download","click","component","accept","hidden","onChange","event","file","target","files","reader","FileReader","onload","imported","result","alert","err","readAsText","Dialog","open","onClose","DialogTitle","DialogContent","DialogActions","theme","createTheme","palette","primary","main","dark","light","secondary","background","default","paper","typography","fontSize","App","drawerOpen","setDrawerOpen","setResetTrigger","ThemeProvider","CssBaseline","AppBar","position","Toolbar","edge","color","MenuIcon","ml","Drawer","List","width","ListItem","button","ListItemText","ReactDOM","render","React","StrictMode","getElementById"],"mappings":"sbAwVeA,MAtUMC,IAAuB,IAAtB,aAAEC,GAAcD,EACpC,MAAME,EAAaC,IACjB,MAAMC,EAAI,IAAIC,KAAKF,GACbG,EAAMF,EAAEG,SACRC,EAAOJ,EAAEK,UAAYH,GAAe,IAARA,GAAa,EAAI,GACnD,OAAO,IAAID,KAAKD,EAAEM,QAAQF,MAGrBG,EAAkBC,GAAuBC,mBAC9CX,EAAU,IAAIG,QAETS,EAAOC,GAAYF,mBAAS,CAAC,GAGpCG,oBAAU,KACR,MAAMC,EAAQC,aAAaC,QAAQ,eACnC,GAAIF,EAAO,CACT,MAAMG,EAASC,KAAKC,MAAML,GAEpBM,EAAaC,OAAOC,YACxBD,OAAOE,QAAQN,GAAQO,OAAOC,IAAA,IAAEC,GAAID,EAAA,MAClC,sBAAsBE,KAAKD,MAG/Bd,EAASQ,GAETL,aAAaa,QAAQ,cAAeV,KAAKW,UAAUT,GACrD,GACC,IAEH,MAUMU,EAVeC,KACnB,MAAMC,EAAO,GACb,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMjC,EAAO,IAAIE,KAAK6B,GACtB/B,EAAKO,QAAQwB,EAAMzB,UAAY2B,GAC/BD,EAAKE,KAAKlC,EACZ,CACA,OAAOgC,GAGQG,CAAY3B,IAEtB4B,EAAcC,GAAmB3B,mBAAS,KAC1C4B,EAAmBC,GAAwB7B,oBAAS,IACpD8B,EAAgBC,GAAqB/B,oBAAS,GAGrDG,oBAAU,KACR,MAAM6B,EAAsBC,IACtBL,IACFK,EAAEC,iBACFD,EAAEE,YACA,8DAIN,OADAC,OAAOC,iBAAiB,eAAgBL,GACjC,IAAMI,OAAOE,oBAAoB,eAAgBN,IACvD,CAACJ,IAGJzB,oBAAU,KACJf,EAAe,GACjBW,EAAoBV,EAAU,IAAIG,QAEnC,CAACJ,IAGJ,MAOMmD,EAAgBb,EAAac,OACjC,CAACC,EAAKC,KAAG,IAAAC,EAAA,OACPF,IAAuD,QAAhDE,EAAA1C,EAAMmB,EAASsB,GAAKE,cAAcC,MAAM,KAAK,WAAG,IAAAF,OAAA,EAAhDA,EAAkDG,QAAS,IACpE,GAEIC,EAAiBrB,EAAac,OAClC,CAACC,EAAKC,KAAG,IAAAM,EAAA,OACPP,IAAuD,QAAhDO,EAAA/C,EAAMmB,EAASsB,GAAKE,cAAcC,MAAM,KAAK,WAAG,IAAAG,OAAA,EAAhDA,EAAkDC,SAAU,IACrE,GAEIC,EAAgBX,EAAgBQ,EAYhCI,GAXa/B,EAASoB,OAC1B,CAACC,EAAKnD,KAAI,IAAA8D,EAAA,OAAKX,IAA8C,QAAvCW,EAAAnD,EAAMX,EAAKsD,cAAcC,MAAM,KAAK,WAAG,IAAAO,OAAA,EAAvCA,EAAyCN,QAAS,IACxE,GAEkB1B,EAASoB,OAC3B,CAACC,EAAKnD,KAAI,IAAA+D,EAAA,OAAKZ,IAA8C,QAAvCY,EAAApD,EAAMX,EAAKsD,cAAcC,MAAM,KAAK,WAAG,IAAAQ,OAAA,EAAvCA,EAAyCJ,SAAU,IACzE,GAKoBK,IACpB,MAAMC,EAAW,IAAI/D,KAAKM,GAC1ByD,EAAS1D,QAAQ0D,EAAS3D,UAAwB,EAAZ0D,GACtCvD,EAAoBwD,KAIhBC,EAAaA,CAACC,EAASC,EAAMC,KACjCzD,EAAU0D,IAAI,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,wBAAA,GACTL,GAAI,IACP,CAACH,GAAU,CACTX,MACW,UAATY,EACIQ,KAAKC,IAAI,IAAiB,QAAbN,EAAAD,EAAKH,UAAQ,IAAAI,OAAA,EAAbA,EAAef,QAAS,GAAKa,IAC7B,QAAbG,EAAAF,EAAKH,UAAQ,IAAAK,OAAA,EAAbA,EAAehB,QAAS,EAC9BG,OACW,WAATS,EACIQ,KAAKC,IAAI,IAAiB,QAAbJ,EAAAH,EAAKH,UAAQ,IAAAM,OAAA,EAAbA,EAAed,SAAU,GAAKU,IAC9B,QAAbK,EAAAJ,EAAKH,UAAQ,IAAAO,OAAA,EAAbA,EAAef,SAAU,OAGnCpB,GAAqB,IA8DvB,OACEuC,eAACC,IAAG,CACFC,GAAI,CAAEC,EAAG,EAAGC,gBAAiB,qBAAsBC,UAAW,SAAUC,SAAA,CAExEN,eAACO,IAAU,CAACC,QAAQ,KAAKC,MAAM,SAASC,cAAY,EAAAJ,SAAA,CAClDK,cAACC,IAAU,CAACC,QAASA,IAAM9B,GAAc,GAAGuB,SAC1CK,cAACG,IAAa,MACH,WAnBC7D,KAClB,MAAM8D,EAAM,IAAI3F,KAAK6B,GAErB,OADA8D,EAAItF,QAAQwB,EAAMzB,UAAY,GACxB,GAANwF,OAAU/D,EAAMgE,mBAAmB,QAAS,CAC1CC,MAAO,QACP7F,IAAK,YACL,OAAA2F,OAAMD,EAAIE,mBAAmB,QAAS,CACtCC,MAAO,QACP7F,IAAK,cAYM8F,CAAWzF,GACpBiF,cAACC,IAAU,CAACC,QAASA,IAAM9B,EAAa,GAAGuB,SACzCK,cAACS,IAAgB,SAGrBT,cAACU,IAAI,CAACC,WAAS,EAACC,QAAS,EAAGC,eAAe,SAAQlB,SAChDtD,EAASyE,IAAI,CAACvG,EAAMiC,KAAO,IAADuE,EAAAC,EACzB,MAAMtC,EAAUnE,EAAKsD,cAAcC,MAAM,KAAK,GACxCmD,EAAU1G,EAAK+F,mBAAmB,QAAS,CAC/CY,QAAS,UAELC,EAAc5G,EAAK+F,mBAAmB,QAAS,CACnDC,MAAO,QACP7F,IAAK,YAEP,OACEsF,cAACU,IAAI,CAACU,MAAI,EAACC,GAAI,IAAKC,GAAI,EAAGC,GAAI,IAAI5B,SACjCN,eAACmC,IAAK,CACJC,UAAW,EACXlC,GAAI,CACFC,EAAG,EACHkC,UAAW,SACXjC,gBAAiB9C,EAAagF,SAASnF,GACnC,gBACA,mBACJoF,OAAQ,UACRC,OAAQlF,EAAagF,SAASnF,GAC1B,oBACA,QAEN0D,QAASA,KAAM4B,OAtJDC,EAsJoBvF,OArJ9CI,EAAiBiC,GACfA,EAAK8C,SAASI,GAASlD,EAAK9C,OAAQvB,GAAMA,IAAMuH,GAAS,IAAIlD,EAAMkD,IAF3CA,OAsJuBpC,SAAA,CAErCK,cAACJ,IAAU,CAACC,QAAQ,KAAIF,SAAEsB,IAC1B5B,eAACC,IAAG,CAACC,GAAI,CAAEyC,GAAI,GAAIrC,SAAA,CACjBN,eAACC,IAAG,CACFC,GAAI,CACF0C,QAAS,OACTC,WAAY,SACZrB,eAAgB,SAChBsB,GAAI,GACJxC,SAAA,CAEFK,cAACC,IAAU,CACTmC,KAAK,QACLlC,QAAUhD,IACRA,EAAEmF,kBACF5D,EAAWC,EAAS,SAAU,IAC9BiB,SAEFK,cAACsC,IAAU,MAEbtC,cAACJ,IAAU,CAACC,QAAQ,KAAKN,GAAI,CAAEgD,GAAI,GAAI5C,UACtB,QAAdoB,EAAA7F,EAAMwD,UAAQ,IAAAqC,OAAA,EAAdA,EAAgBhD,QAAS,IAE5BiC,cAACC,IAAU,CACTmC,KAAK,QACLlC,QAAUhD,IACRA,EAAEmF,kBACF5D,EAAWC,EAAS,QAAS,IAC7BiB,SAEFK,cAACwC,IAAO,SAGZnD,eAACC,IAAG,CACFC,GAAI,CACF0C,QAAS,OACTC,WAAY,SACZrB,eAAgB,UAChBlB,SAAA,CAEFK,cAACC,IAAU,CACTmC,KAAK,QACLlC,QAAUhD,IACRA,EAAEmF,kBACF5D,EAAWC,EAAS,UAAW,IAC/BiB,SAEFK,cAACsC,IAAU,MAEbtC,cAACJ,IAAU,CAACC,QAAQ,KAAKN,GAAI,CAAEgD,GAAI,GAAI5C,UACtB,QAAdqB,EAAA9F,EAAMwD,UAAQ,IAAAsC,OAAA,EAAdA,EAAgB9C,SAAU,IAE7B8B,cAACC,IAAU,CACTmC,KAAK,QACLlC,QAAUhD,IACRA,EAAEmF,kBACF5D,EAAWC,EAAS,SAAU,IAC9BiB,SAEFK,cAACwC,IAAO,YAIdxC,cAACJ,IAAU,CAACC,QAAQ,KAAIF,SAAEwB,QA9EWzC,OAoF/CW,eAACO,IAAU,CAACC,QAAQ,KAAKC,MAAM,SAASP,GAAI,CAAEyC,GAAI,GAAIrC,SAAA,CAAC,4BAC3BnC,EAAc,aAAWQ,EAAe,YAC1DG,KAMVkB,eAACC,IAAG,CAACC,GAAI,CAAE0C,QAAS,OAAQpB,eAAgB,SAAUmB,GAAI,EAAGS,IAAK,GAAI9C,SAAA,CACpEK,cAAC0C,IAAM,CAAC7C,QAAQ,YAAYK,QA/KhByC,KAChBrH,aAAaa,QAAQ,cAAeV,KAAKW,UAAUlB,IACnD4B,GAAqB,GACrBE,GAAkB,IA4KiC2C,SAAC,SAGhDK,cAAC0C,IAAM,CAAC7C,QAAQ,WAAWK,QA7IX0C,KACpB,MAAMC,EAAY3D,YAAA,GAAQhE,GAC1BmB,EAASyG,QAASvI,IAChB,MAAMmE,EAAUnE,EAAKsD,cAAcC,MAAM,KAAK,GAC9C+E,EAAanE,GAAW,CAAEX,MAAO,EAAGG,OAAQ,KAE9C/C,EAAS0H,GACT/F,GAAqB,IAsIiC6C,SAAC,cAGnDK,cAAC0C,IAAM,CAAC7C,QAAQ,WAAWK,QAASA,IAAMtD,EAAgB,IAAI+C,SAAC,oBAIjEN,eAACC,IAAG,CAACC,GAAI,CAAE0C,QAAS,OAAQpB,eAAgB,SAAUmB,GAAI,EAAGS,IAAK,GAAI9C,SAAA,CACpEK,cAAC0C,IAAM,CAAC7C,QAAQ,WAAWK,QAnLb6C,KAClB,MAAMC,EAAUvH,KAAKW,UAAUlB,EAAO,KAAM,GACtC+H,EAAW,IAAIC,KAAK,CAACF,GAAU,CAAErE,KAAM,qBACvCwE,EAAMC,IAAIC,gBAAgBJ,GAC1BK,EAAOC,SAASC,cAAc,KACpCF,EAAKG,KAAON,EACZG,EAAKI,SAAW,oBAChBJ,EAAKK,SA4K+ChE,SAAC,WAGjDN,eAACqD,IAAM,CAAC7C,QAAQ,WAAW+D,UAAU,QAAOjE,SAAA,CAAC,SAE3CK,cAAA,SAAOrB,KAAK,OAAOkF,OAAO,QAAQC,QAAM,EAACC,SA7K5BC,IACnB,MAAMC,EAAOD,EAAME,OAAOC,MAAM,GAChC,GAAIF,EAAM,CACR,MAAMG,EAAS,IAAIC,WACnBD,EAAOE,OAAUpH,IACf,IACE,MAAMqH,EAAW9I,KAAKC,MAAMwB,EAAEgH,OAAOM,QACrCrJ,EAASoJ,GACTjJ,aAAaa,QAAQ,cAAeV,KAAKW,UAAUmI,IACnDE,MAAM,kBACR,CAAE,MAAOC,GACPD,MAAM,oBACR,GAEFL,EAAOO,WAAWV,EACpB,WAiKE5E,eAACuF,IAAM,CAACC,KAAM9H,EAAgB+H,QAASA,IAAM9H,GAAkB,GAAO2C,SAAA,CACpEK,cAAC+E,IAAW,CAAApF,SAAC,eACbK,cAACgF,IAAa,CAAArF,SAAC,kCACfK,cAACiF,IAAa,CAAAtF,SACZK,cAAC0C,IAAM,CAACxC,QAASA,IAAMlD,GAAkB,GAAO2C,SAAC,gBC5T3D,MAAMuF,EAAQC,YAAY,CACxBC,QAAS,CACPC,QAAS,CACPC,KAAM,UACNC,KAAM,UACNC,MAAO,WAETC,UAAW,CACTH,KAAM,UACNC,KAAM,UACNC,MAAO,WAETE,WAAY,CACVC,QAAS,UACTC,MAAO,YAGXC,WAAY,CACVC,SAAU,MA2CCC,MAvCf,WACE,MAAOC,EAAYC,GAAiBhL,oBAAS,IACtCZ,EAAc6L,GAAmBjL,mBAAS,GAEjD,OACEoE,eAAC8G,IAAa,CAACjB,MAAOA,EAAMvF,SAAA,CAC1BK,cAACoG,IAAW,IACZpG,cAACqG,IAAM,CAACC,SAAS,SAAS/G,GAAI,CAAEE,gBAAiB,iBAAkBE,SACjEN,eAACkH,IAAO,CAAA5G,SAAA,CACNK,cAACC,IAAU,CACTuG,KAAK,QACLC,MAAM,UACNvG,QAASA,IAAM+F,GAAc,GAAMtG,SAEnCK,cAAC0G,IAAQ,MAEX1G,cAACJ,IAAU,CAACC,QAAQ,KAAKN,GAAI,CAAEoH,GAAI,GAAIhH,SAAC,6BAK5CK,cAAC4G,IAAM,CAAC/B,KAAMmB,EAAYlB,QAASA,IAAMmB,GAAc,GAAOtG,SAC5DK,cAAC6G,IAAI,CAACtH,GAAI,CAAEuH,MAAO,KAAMnH,SACvBK,cAAC+G,IAAQ,CACPC,QAAM,EACN9G,QAASA,KACPgG,EAAiBrH,GAASA,EAAO,GACjCoH,GAAc,IACdtG,SAEFK,cAACiH,IAAY,CAAC5B,QAAQ,WAAW9F,GAAI,CAAEuG,SAAU,kBAIvD9F,cAAC7F,EAAY,CAACE,aAAcA,MAGlC,EC5EA6M,IAASC,OACPnH,cAACoH,IAAMC,WAAU,CAAA1H,SACfK,cAAC+F,EAAG,MAENxC,SAAS+D,eAAe,Q","file":"static/js/main.e2a90775.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Button,\r\n  IconButton,\r\n  Box,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n} from \"@mui/material\";\r\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\r\nimport ArrowForwardIcon from \"@mui/icons-material/ArrowForward\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport RemoveIcon from \"@mui/icons-material/Remove\";\r\n\r\nconst WeekCalendar = ({ resetTrigger }) => {\r\n  const getMonday = (date) => {\r\n    const d = new Date(date);\r\n    const day = d.getDay();\r\n    const diff = d.getDate() - day + (day === 0 ? -6 : 1);\r\n    return new Date(d.setDate(diff));\r\n  };\r\n\r\n  const [currentWeekStart, setCurrentWeekStart] = useState(\r\n    getMonday(new Date())\r\n  );\r\n  const [meals, setMeals] = useState({});\r\n\r\n  // Load from localStorage on mount\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"mealPlanner\");\r\n    if (saved) {\r\n      const parsed = JSON.parse(saved);\r\n      // Filter to only date-based keys (YYYY-MM-DD)\r\n      const cleanMeals = Object.fromEntries(\r\n        Object.entries(parsed).filter(([key]) =>\r\n          /^\\d{4}-\\d{2}-\\d{2}$/.test(key)\r\n        )\r\n      );\r\n      setMeals(cleanMeals);\r\n      // Update localStorage with cleaned data\r\n      localStorage.setItem(\"mealPlanner\", JSON.stringify(cleanMeals));\r\n    }\r\n  }, []);\r\n\r\n  const getWeekDays = (start) => {\r\n    const days = [];\r\n    for (let i = 0; i < 7; i++) {\r\n      const date = new Date(start);\r\n      date.setDate(start.getDate() + i);\r\n      days.push(date);\r\n    }\r\n    return days;\r\n  };\r\n\r\n  const weekDays = getWeekDays(currentWeekStart);\r\n\r\n  const [selectedDays, setSelectedDays] = useState([]);\r\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\r\n  const [saveDialogOpen, setSaveDialogOpen] = useState(false);\r\n\r\n  // Prevent page unload with unsaved changes\r\n  useEffect(() => {\r\n    const handleBeforeUnload = (e) => {\r\n      if (hasUnsavedChanges) {\r\n        e.preventDefault();\r\n        e.returnValue =\r\n          \"You have unsaved changes. Are you sure you want to leave?\";\r\n      }\r\n    };\r\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\r\n    return () => window.removeEventListener(\"beforeunload\", handleBeforeUnload);\r\n  }, [hasUnsavedChanges]);\r\n\r\n  // Reset to current week on trigger\r\n  useEffect(() => {\r\n    if (resetTrigger > 0) {\r\n      setCurrentWeekStart(getMonday(new Date()));\r\n    }\r\n  }, [resetTrigger]);\r\n\r\n  // Toggle day selection\r\n  const toggleDaySelection = (index) => {\r\n    setSelectedDays((prev) =>\r\n      prev.includes(index) ? prev.filter((d) => d !== index) : [...prev, index]\r\n    );\r\n  };\r\n\r\n  // Calculate selected summary\r\n  const selectedLunch = selectedDays.reduce(\r\n    (sum, idx) =>\r\n      sum + (meals[weekDays[idx].toISOString().split(\"T\")[0]]?.lunch || 0),\r\n    0\r\n  );\r\n  const selectedDinner = selectedDays.reduce(\r\n    (sum, idx) =>\r\n      sum + (meals[weekDays[idx].toISOString().split(\"T\")[0]]?.dinner || 0),\r\n    0\r\n  );\r\n  const selectedTotal = selectedLunch + selectedDinner;\r\n  const totalLunch = weekDays.reduce(\r\n    (sum, date) => sum + (meals[date.toISOString().split(\"T\")[0]]?.lunch || 0),\r\n    0\r\n  );\r\n  const totalDinner = weekDays.reduce(\r\n    (sum, date) => sum + (meals[date.toISOString().split(\"T\")[0]]?.dinner || 0),\r\n    0\r\n  );\r\n  const totalMeals = totalLunch + totalDinner;\r\n\r\n  // Navigation\r\n  const navigateWeek = (direction) => {\r\n    const newStart = new Date(currentWeekStart);\r\n    newStart.setDate(newStart.getDate() + direction * 7);\r\n    setCurrentWeekStart(newStart);\r\n  };\r\n\r\n  // Update counters\r\n  const updateMeal = (dateStr, type, delta) => {\r\n    setMeals((prev) => ({\r\n      ...prev,\r\n      [dateStr]: {\r\n        lunch:\r\n          type === \"lunch\"\r\n            ? Math.max(0, (prev[dateStr]?.lunch || 0) + delta)\r\n            : prev[dateStr]?.lunch || 0,\r\n        dinner:\r\n          type === \"dinner\"\r\n            ? Math.max(0, (prev[dateStr]?.dinner || 0) + delta)\r\n            : prev[dateStr]?.dinner || 0,\r\n      },\r\n    }));\r\n    setHasUnsavedChanges(true);\r\n  };\r\n\r\n  // Save to localStorage\r\n  const saveMeals = () => {\r\n    localStorage.setItem(\"mealPlanner\", JSON.stringify(meals));\r\n    setHasUnsavedChanges(false);\r\n    setSaveDialogOpen(true);\r\n  };\r\n\r\n  // Export as JSON\r\n  const exportMeals = () => {\r\n    const dataStr = JSON.stringify(meals, null, 2);\r\n    const dataBlob = new Blob([dataStr], { type: \"application/json\" });\r\n    const url = URL.createObjectURL(dataBlob);\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.download = \"meal-planner.json\";\r\n    link.click();\r\n  };\r\n\r\n  // Import from JSON\r\n  const importMeals = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        try {\r\n          const imported = JSON.parse(e.target.result);\r\n          setMeals(imported);\r\n          localStorage.setItem(\"mealPlanner\", JSON.stringify(imported));\r\n          alert(\"Meals imported!\");\r\n        } catch (err) {\r\n          alert(\"Invalid JSON file\");\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n  };\r\n\r\n  // Clear all meals for current week\r\n  const clearAllMeals = () => {\r\n    const clearedMeals = { ...meals };\r\n    weekDays.forEach((date) => {\r\n      const dateStr = date.toISOString().split(\"T\")[0];\r\n      clearedMeals[dateStr] = { lunch: 0, dinner: 0 };\r\n    });\r\n    setMeals(clearedMeals);\r\n    setHasUnsavedChanges(true);\r\n  };\r\n  const formatWeek = (start) => {\r\n    const end = new Date(start);\r\n    end.setDate(start.getDate() + 6);\r\n    return `${start.toLocaleDateString(\"en-US\", {\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    })} - ${end.toLocaleDateString(\"en-US\", {\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    })}`;\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{ p: 2, backgroundColor: \"background.default\", minHeight: \"100vh\" }}\r\n    >\r\n      <Typography variant=\"h4\" align=\"center\" gutterBottom>\r\n        <IconButton onClick={() => navigateWeek(-1)}>\r\n          <ArrowBackIcon />\r\n        </IconButton>\r\n        Week of {formatWeek(currentWeekStart)}\r\n        <IconButton onClick={() => navigateWeek(1)}>\r\n          <ArrowForwardIcon />\r\n        </IconButton>\r\n      </Typography>\r\n      <Grid container spacing={1} justifyContent=\"center\">\r\n        {weekDays.map((date, i) => {\r\n          const dateStr = date.toISOString().split(\"T\")[0];\r\n          const dayName = date.toLocaleDateString(\"en-US\", {\r\n            weekday: \"short\",\r\n          });\r\n          const displayDate = date.toLocaleDateString(\"en-US\", {\r\n            month: \"short\",\r\n            day: \"numeric\",\r\n          });\r\n          return (\r\n            <Grid item xs={1.7} sm={6} md={1.7} key={dateStr}>\r\n              <Paper\r\n                elevation={3}\r\n                sx={{\r\n                  p: 1,\r\n                  textAlign: \"center\",\r\n                  backgroundColor: selectedDays.includes(i)\r\n                    ? \"primary.light\"\r\n                    : \"background.paper\",\r\n                  cursor: \"pointer\",\r\n                  border: selectedDays.includes(i)\r\n                    ? \"2px solid #2196f3\"\r\n                    : \"none\",\r\n                }}\r\n                onClick={() => toggleDaySelection(i)}\r\n              >\r\n                <Typography variant=\"h6\">{dayName}</Typography>\r\n                <Box sx={{ mt: 1 }}>\r\n                  <Box\r\n                    sx={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      mb: 1,\r\n                    }}\r\n                  >\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        updateMeal(dateStr, \"lunch\", -1);\r\n                      }}\r\n                    >\r\n                      <RemoveIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"h5\" sx={{ mx: 1 }}>\r\n                      {meals[dateStr]?.lunch || 0}\r\n                    </Typography>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        updateMeal(dateStr, \"lunch\", 1);\r\n                      }}\r\n                    >\r\n                      <AddIcon />\r\n                    </IconButton>\r\n                  </Box>\r\n                  <Box\r\n                    sx={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        updateMeal(dateStr, \"dinner\", -1);\r\n                      }}\r\n                    >\r\n                      <RemoveIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"h5\" sx={{ mx: 1 }}>\r\n                      {meals[dateStr]?.dinner || 0}\r\n                    </Typography>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        updateMeal(dateStr, \"dinner\", 1);\r\n                      }}\r\n                    >\r\n                      <AddIcon />\r\n                    </IconButton>\r\n                  </Box>\r\n                </Box>\r\n                <Typography variant=\"h6\">{displayDate}</Typography>\r\n              </Paper>\r\n            </Grid>\r\n          );\r\n        })}\r\n      </Grid>\r\n      <Typography variant=\"h5\" align=\"center\" sx={{ mt: 8 }}>\r\n        Selected Summary: Lunch: {selectedLunch}, Dinner: {selectedDinner},\r\n        Total: {selectedTotal}\r\n      </Typography>\r\n      {/* <Typography variant=\"h5\" align=\"center\" sx={{ mt: 2 }}>\r\n        Weekly Summary: Lunch: {totalLunch}, Dinner: {totalDinner}, Total:{\" \"}\r\n        {totalMeals}\r\n      </Typography> */}\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 8, gap: 2 }}>\r\n        <Button variant=\"contained\" onClick={saveMeals}>\r\n          Save\r\n        </Button>\r\n        <Button variant=\"outlined\" onClick={clearAllMeals}>\r\n          Clear All\r\n        </Button>\r\n        <Button variant=\"outlined\" onClick={() => setSelectedDays([])}>\r\n          Unselect All\r\n        </Button>\r\n      </Box>\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 1, gap: 2 }}>\r\n        <Button variant=\"outlined\" onClick={exportMeals}>\r\n          Export\r\n        </Button>\r\n        <Button variant=\"outlined\" component=\"label\">\r\n          Import\r\n          <input type=\"file\" accept=\".json\" hidden onChange={importMeals} />\r\n        </Button>\r\n      </Box>\r\n      <Dialog open={saveDialogOpen} onClose={() => setSaveDialogOpen(false)}>\r\n        <DialogTitle>Data Saved</DialogTitle>\r\n        <DialogContent>Meal data saved successfully.</DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setSaveDialogOpen(false)}>OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default WeekCalendar;\r\n","import React, { useState } from \"react\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  IconButton,\n  Drawer,\n  List,\n  ListItem,\n  ListItemText,\n  CssBaseline,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n} from \"@mui/material\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport WeekCalendar from \"./components/WeekCalendar\";\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#2196f3\",\n      dark: \"#1769aa\",\n      light: \"#4dabf5\",\n    },\n    secondary: {\n      main: \"#2979ff\",\n      dark: \"#1c54b2\",\n      light: \"#5393ff\",\n    },\n    background: {\n      default: \"#f0f8ff\",\n      paper: \"#e3f2fd\",\n    },\n  },\n  typography: {\n    fontSize: 18,\n  },\n});\n\nfunction App() {\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [resetTrigger, setResetTrigger] = useState(0);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <AppBar position=\"static\" sx={{ backgroundColor: \"primary.light\" }}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            onClick={() => setDrawerOpen(true)}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h5\" sx={{ ml: 2 }}>\n            Weekly Meal Planner\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Drawer open={drawerOpen} onClose={() => setDrawerOpen(false)}>\n        <List sx={{ width: 250 }}>\n          <ListItem\n            button\n            onClick={() => {\n              setResetTrigger((prev) => prev + 1);\n              setDrawerOpen(false);\n            }}\n          >\n            <ListItemText primary=\"Homepage\" sx={{ fontSize: \"1.2rem\" }} />\n          </ListItem>\n        </List>\n      </Drawer>\n      <WeekCalendar resetTrigger={resetTrigger} />\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}