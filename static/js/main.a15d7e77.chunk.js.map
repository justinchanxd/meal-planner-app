{"version":3,"sources":["components/WeekCalendar.js","App.js","index.js"],"names":["WeekCalendar","_ref","resetTrigger","getMonday","date","d","Date","day","getDay","diff","getDate","setDate","currentWeekStart","setCurrentWeekStart","useState","meals","setMeals","useEffect","saved","localStorage","getItem","parsed","JSON","parse","cleanMeals","Object","fromEntries","entries","filter","_ref2","key","test","setItem","stringify","weekDays","start","days","i","push","getWeekDays","selectedDays","setSelectedDays","hasUnsavedChanges","setHasUnsavedChanges","saveDialogOpen","setSaveDialogOpen","handleBeforeUnload","e","preventDefault","returnValue","window","addEventListener","removeEventListener","selectedLunch","reduce","sum","idx","_meals$weekDays$idx$t","toISOString","split","lunch","selectedDinner","_meals$weekDays$idx$t2","dinner","selectedTotal","navigateWeek","_meals$date$toISOStri","_meals$date$toISOStri2","direction","newStart","updateMeal","dateStr","type","delta","prev","_prev$dateStr","_prev$dateStr2","_prev$dateStr3","_prev$dateStr4","_objectSpread","Math","max","_jsxs","Box","sx","p","backgroundColor","minHeight","children","Typography","variant","align","gutterBottom","_jsx","IconButton","size","width","height","mr","onClick","ArrowBackIcon","fontSize","end","concat","toLocaleDateString","month","formatWeek","ml","ArrowForwardIcon","Grid","container","spacing","justifyContent","map","_meals$dateStr","_meals$dateStr2","dayName","weekday","displayDate","item","xs","sm","md","Paper","elevation","textAlign","includes","cursor","border","toggleDaySelection","index","mt","display","alignItems","mb","stopPropagation","RemoveIcon","mx","AddIcon","gap","Button","saveMeals","clearAllMeals","clearedMeals","forEach","exportMeals","dataStr","dataBlob","Blob","url","URL","createObjectURL","link","document","createElement","href","download","click","component","accept","hidden","onChange","event","file","target","files","reader","FileReader","onload","imported","result","alert","err","readAsText","Dialog","open","onClose","DialogTitle","DialogContent","DialogActions","theme","createTheme","palette","primary","main","dark","light","secondary","background","default","paper","typography","App","drawerOpen","setDrawerOpen","setResetTrigger","ThemeProvider","CssBaseline","AppBar","position","Toolbar","edge","color","MenuIcon","Drawer","List","ListItem","button","ListItemText","ReactDOM","render","React","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a15d7e77.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Grid,\r\n  Paper,\r\n  Typography,\r\n  Button,\r\n  IconButton,\r\n  Box,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n} from \"@mui/material\";\r\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\r\nimport ArrowForwardIcon from \"@mui/icons-material/ArrowForward\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport RemoveIcon from \"@mui/icons-material/Remove\";\r\n\r\nconst WeekCalendar = ({ resetTrigger }) => {\r\n  const getMonday = (date) => {\r\n    const d = new Date(date);\r\n    const day = d.getDay();\r\n    const diff = d.getDate() - day + (day === 0 ? -6 : 1);\r\n    return new Date(d.setDate(diff));\r\n  };\r\n\r\n  const [currentWeekStart, setCurrentWeekStart] = useState(\r\n    getMonday(new Date())\r\n  );\r\n  const [meals, setMeals] = useState({});\r\n\r\n  // Load from localStorage on mount\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"mealPlanner\");\r\n    if (saved) {\r\n      const parsed = JSON.parse(saved);\r\n      // Filter to only date-based keys (YYYY-MM-DD)\r\n      const cleanMeals = Object.fromEntries(\r\n        Object.entries(parsed).filter(([key]) =>\r\n          /^\\d{4}-\\d{2}-\\d{2}$/.test(key)\r\n        )\r\n      );\r\n      setMeals(cleanMeals);\r\n      // Update localStorage with cleaned data\r\n      localStorage.setItem(\"mealPlanner\", JSON.stringify(cleanMeals));\r\n    }\r\n  }, []);\r\n\r\n  const getWeekDays = (start) => {\r\n    const days = [];\r\n    for (let i = 0; i < 7; i++) {\r\n      const date = new Date(start);\r\n      date.setDate(start.getDate() + i);\r\n      days.push(date);\r\n    }\r\n    return days;\r\n  };\r\n\r\n  const weekDays = getWeekDays(currentWeekStart);\r\n\r\n  const [selectedDays, setSelectedDays] = useState([0, 1, 2, 3, 4, 5, 6]);\r\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\r\n  const [saveDialogOpen, setSaveDialogOpen] = useState(false);\r\n\r\n  // Prevent page unload with unsaved changes\r\n  useEffect(() => {\r\n    const handleBeforeUnload = (e) => {\r\n      if (hasUnsavedChanges) {\r\n        e.preventDefault();\r\n        e.returnValue =\r\n          \"You have unsaved changes. Are you sure you want to leave?\";\r\n      }\r\n    };\r\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\r\n    return () => window.removeEventListener(\"beforeunload\", handleBeforeUnload);\r\n  }, [hasUnsavedChanges]);\r\n\r\n  // Reset to current week on trigger\r\n  useEffect(() => {\r\n    if (resetTrigger > 0) {\r\n      setCurrentWeekStart(getMonday(new Date()));\r\n    }\r\n  }, [resetTrigger]);\r\n\r\n  // Toggle day selection\r\n  const toggleDaySelection = (index) => {\r\n    setSelectedDays((prev) =>\r\n      prev.includes(index) ? prev.filter((d) => d !== index) : [...prev, index]\r\n    );\r\n  };\r\n\r\n  // Calculate selected summary\r\n  const selectedLunch = selectedDays.reduce(\r\n    (sum, idx) =>\r\n      sum + (meals[weekDays[idx].toISOString().split(\"T\")[0]]?.lunch || 0),\r\n    0\r\n  );\r\n  const selectedDinner = selectedDays.reduce(\r\n    (sum, idx) =>\r\n      sum + (meals[weekDays[idx].toISOString().split(\"T\")[0]]?.dinner || 0),\r\n    0\r\n  );\r\n  const selectedTotal = selectedLunch + selectedDinner;\r\n  const totalLunch = weekDays.reduce(\r\n    (sum, date) => sum + (meals[date.toISOString().split(\"T\")[0]]?.lunch || 0),\r\n    0\r\n  );\r\n  const totalDinner = weekDays.reduce(\r\n    (sum, date) => sum + (meals[date.toISOString().split(\"T\")[0]]?.dinner || 0),\r\n    0\r\n  );\r\n  const totalMeals = totalLunch + totalDinner;\r\n\r\n  // Navigation\r\n  const navigateWeek = (direction) => {\r\n    const newStart = new Date(currentWeekStart);\r\n    newStart.setDate(newStart.getDate() + direction * 7);\r\n    setCurrentWeekStart(newStart);\r\n  };\r\n\r\n  // Update counters\r\n  const updateMeal = (dateStr, type, delta) => {\r\n    setMeals((prev) => ({\r\n      ...prev,\r\n      [dateStr]: {\r\n        lunch:\r\n          type === \"lunch\"\r\n            ? Math.max(0, (prev[dateStr]?.lunch || 0) + delta)\r\n            : prev[dateStr]?.lunch || 0,\r\n        dinner:\r\n          type === \"dinner\"\r\n            ? Math.max(0, (prev[dateStr]?.dinner || 0) + delta)\r\n            : prev[dateStr]?.dinner || 0,\r\n      },\r\n    }));\r\n    setHasUnsavedChanges(true);\r\n  };\r\n\r\n  // Save to localStorage\r\n  const saveMeals = () => {\r\n    localStorage.setItem(\"mealPlanner\", JSON.stringify(meals));\r\n    setHasUnsavedChanges(false);\r\n    setSaveDialogOpen(true);\r\n  };\r\n\r\n  // Export as JSON\r\n  const exportMeals = () => {\r\n    const dataStr = JSON.stringify(meals, null, 2);\r\n    const dataBlob = new Blob([dataStr], { type: \"application/json\" });\r\n    const url = URL.createObjectURL(dataBlob);\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.download = \"meal-planner.json\";\r\n    link.click();\r\n  };\r\n\r\n  // Import from JSON\r\n  const importMeals = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        try {\r\n          const imported = JSON.parse(e.target.result);\r\n          setMeals(imported);\r\n          localStorage.setItem(\"mealPlanner\", JSON.stringify(imported));\r\n          alert(\"Meals imported!\");\r\n        } catch (err) {\r\n          alert(\"Invalid JSON file\");\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n  };\r\n\r\n  // Clear all meals for current week\r\n  const clearAllMeals = () => {\r\n    const clearedMeals = { ...meals };\r\n    weekDays.forEach((date) => {\r\n      const dateStr = date.toISOString().split(\"T\")[0];\r\n      clearedMeals[dateStr] = { lunch: 0, dinner: 0 };\r\n    });\r\n    setMeals(clearedMeals);\r\n    setHasUnsavedChanges(true);\r\n  };\r\n  const formatWeek = (start) => {\r\n    const end = new Date(start);\r\n    end.setDate(start.getDate() + 6);\r\n    return `${start.toLocaleDateString(\"en-US\", {\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    })} - ${end.toLocaleDateString(\"en-US\", {\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    })}`;\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{ p: 1, backgroundColor: \"background.default\", minHeight: \"100vh\" }}\r\n    >\r\n      <Typography variant=\"body1\" align=\"center\" gutterBottom>\r\n        <IconButton\r\n          size=\"small\"\r\n          sx={{ width: 20, height: 20, mr: 1 }}\r\n          onClick={() => navigateWeek(-1)}\r\n        >\r\n          <ArrowBackIcon fontSize=\"small\" />\r\n        </IconButton>\r\n        Week of {formatWeek(currentWeekStart)}\r\n        <IconButton\r\n          size=\"small\"\r\n          sx={{ width: 20, height: 20, ml: 1 }}\r\n          onClick={() => navigateWeek(1)}\r\n        >\r\n          <ArrowForwardIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      </Typography>\r\n      <Grid container spacing={0.5} justifyContent=\"center\">\r\n        {weekDays.map((date, i) => {\r\n          const dateStr = date.toISOString().split(\"T\")[0];\r\n          const dayName = date.toLocaleDateString(\"en-US\", {\r\n            weekday: \"short\",\r\n          });\r\n          const displayDate = date.toLocaleDateString(\"en-US\", {\r\n            month: \"short\",\r\n            day: \"numeric\",\r\n          });\r\n          return (\r\n            <Grid item xs={1.2} sm={6} md={1.7} key={dateStr}>\r\n              <Paper\r\n                elevation={3}\r\n                sx={{\r\n                  p: 0.5,\r\n                  textAlign: \"center\",\r\n                  backgroundColor: selectedDays.includes(i)\r\n                    ? \"primary.light\"\r\n                    : \"background.paper\",\r\n                  cursor: \"pointer\",\r\n                  border: selectedDays.includes(i)\r\n                    ? \"2px solid #2196f3\"\r\n                    : \"none\",\r\n                }}\r\n                onClick={() => toggleDaySelection(i)}\r\n              >\r\n                <Typography variant=\"caption\" sx={{ fontSize: \"0.7rem\" }}>\r\n                  {dayName}\r\n                </Typography>\r\n                <Box sx={{ mt: 0.25 }}>\r\n                  <Box\r\n                    sx={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      mb: 0.25,\r\n                    }}\r\n                  >\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      sx={{ width: 0.5, height: 0.5 }}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        updateMeal(dateStr, \"lunch\", -1);\r\n                      }}\r\n                    >\r\n                      <RemoveIcon fontSize=\"0.1rem\" />\r\n                    </IconButton>\r\n                    <Typography\r\n                      variant=\"body2\"\r\n                      sx={{ fontSize: \"0.8rem\", mx: 0.25 }}\r\n                    >\r\n                      {meals[dateStr]?.lunch || 0}\r\n                    </Typography>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      sx={{ width: 0.5, height: 0.5 }}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        updateMeal(dateStr, \"lunch\", 1);\r\n                      }}\r\n                    >\r\n                      <AddIcon fontSize=\"0.01rem\" />\r\n                    </IconButton>\r\n                  </Box>\r\n                  <Box\r\n                    sx={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      sx={{ width: 0.5, height: 0.5 }}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        updateMeal(dateStr, \"dinner\", -1);\r\n                      }}\r\n                    >\r\n                      <RemoveIcon fontSize=\"0.1rem\" />\r\n                    </IconButton>\r\n                    <Typography\r\n                      variant=\"body2\"\r\n                      sx={{ fontSize: \"0.8rem\", mx: 0.25 }}\r\n                    >\r\n                      {meals[dateStr]?.dinner || 0}\r\n                    </Typography>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      sx={{ width: 0.5, height: 0.5 }}\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        updateMeal(dateStr, \"dinner\", 1);\r\n                      }}\r\n                    >\r\n                      <AddIcon fontSize=\"0.01rem\" />\r\n                    </IconButton>\r\n                  </Box>\r\n                </Box>\r\n                <Typography variant=\"caption\" sx={{ fontSize: \"0.6rem\" }}>\r\n                  {displayDate}\r\n                </Typography>\r\n              </Paper>\r\n            </Grid>\r\n          );\r\n        })}\r\n      </Grid>\r\n      <Typography variant=\"body1\" align=\"center\" sx={{ mt: 2 }}>\r\n        Selected Summary:\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        Lunch: {selectedLunch}\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        Dinner: {selectedDinner}\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        Total: {selectedTotal}\r\n      </Typography>\r\n      {/* <Typography variant=\"h5\" align=\"center\" sx={{ mt: 2 }}>\r\n        Weekly Summary: Lunch: {totalLunch}, Dinner: {totalDinner}, Total:{\" \"}\r\n        {totalMeals}\r\n      </Typography> */}\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 2, gap: 1 }}>\r\n        <Button variant=\"contained\" onClick={saveMeals}>\r\n          Save\r\n        </Button>\r\n        <Button variant=\"outlined\" onClick={clearAllMeals}>\r\n          Clear All\r\n        </Button>\r\n        <Button variant=\"outlined\" onClick={() => setSelectedDays([])}>\r\n          Unselect All\r\n        </Button>\r\n      </Box>\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 0.5, gap: 1 }}>\r\n        <Button variant=\"outlined\" onClick={exportMeals}>\r\n          Export\r\n        </Button>\r\n        <Button variant=\"outlined\" component=\"label\">\r\n          Import\r\n          <input type=\"file\" accept=\".json\" hidden onChange={importMeals} />\r\n        </Button>\r\n      </Box>\r\n      <Dialog open={saveDialogOpen} onClose={() => setSaveDialogOpen(false)}>\r\n        <DialogTitle>Data Saved</DialogTitle>\r\n        <DialogContent>Meal data saved successfully.</DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setSaveDialogOpen(false)}>OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default WeekCalendar;\r\n","import React, { useState } from \"react\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  IconButton,\n  Drawer,\n  List,\n  ListItem,\n  ListItemText,\n  CssBaseline,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n} from \"@mui/material\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport WeekCalendar from \"./components/WeekCalendar\";\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#2196f3\",\n      dark: \"#1769aa\",\n      light: \"#4dabf5\",\n    },\n    secondary: {\n      main: \"#2979ff\",\n      dark: \"#1c54b2\",\n      light: \"#5393ff\",\n    },\n    background: {\n      default: \"#f0f8ff\",\n      paper: \"#e3f2fd\",\n    },\n  },\n  typography: {\n    fontSize: 18,\n  },\n});\n\nfunction App() {\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [resetTrigger, setResetTrigger] = useState(0);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <AppBar position=\"static\" sx={{ backgroundColor: \"primary.light\" }}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            onClick={() => setDrawerOpen(true)}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h5\" sx={{ ml: 2 }}>\n            Weekly Meal Planner\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Drawer open={drawerOpen} onClose={() => setDrawerOpen(false)}>\n        <List sx={{ width: 250 }}>\n          <ListItem\n            button\n            onClick={() => {\n              setResetTrigger((prev) => prev + 1);\n              setDrawerOpen(false);\n            }}\n          >\n            <ListItemText primary=\"Homepage\" sx={{ fontSize: \"1.2rem\" }} />\n          </ListItem>\n        </List>\n      </Drawer>\n      <WeekCalendar resetTrigger={resetTrigger} />\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}